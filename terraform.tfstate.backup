{
  "version": 4,
  "terraform_version": "1.0.11",
  "serial": 19,
  "lineage": "23e366ae-51a5-b349-32c4-04988b8b5866",
  "outputs": {},
  "resources": [
    {
      "mode": "data",
      "type": "ibm_is_image",
      "name": "vsi_image",
      "provider": "provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "architecture": "amd64",
            "checksum": "82aecfc0463778e63010e9058dffeb937a5c95c9b19ec2a6cf78306b48f673b0",
            "crn": "crn:v1:bluemix:public:is:us-south:a/811f8abfbd32425597dc7ba40da98fa6::image:r006-d4e7b7ee-840c-4b8c-9a89-4cb48e8891b4",
            "encryption": "none",
            "encryption_key": null,
            "id": "r006-d4e7b7ee-840c-4b8c-9a89-4cb48e8891b4",
            "identifier": null,
            "name": "ibm-centos-7-9-minimal-amd64-4",
            "os": "centos-7-amd64",
            "source_volume": null,
            "status": "deprecated",
            "visibility": "public"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "ibm_is_ssh_key",
      "name": "ssh_key",
      "provider": "provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "index_key": "vidhi-mac-new",
          "schema_version": 0,
          "attributes": {
            "fingerprint": "SHA256:Xvj0hLmTe8MPanwrEhWMDkrgzxt7yT8WHiLT2Pu0V6U",
            "id": "r006-69304857-5cd8-44f3-9e8d-6d1b6fc40927",
            "length": 4096,
            "name": "vidhi-mac-new",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQD9PlL8VxAo7psEqe5Jo/u8qR/2UOrLgd51879SxUIIQJYCukZTJTBvZP6qHlAR0jBcu81UgzDvvYOZS7NxkwA3yd66hnkWXkAUmCgJyxKkGEDdQp++qh1jwz/ea2t5Ymt1s2EneTARJXVKDrLYUHJfYjj8G82o6cYTLDK1jcP+Mspzg60w7ihZqny6b5FeXqbx9aXTmirQxHChYZZZnrMXT2SLToBzx3FY3jPr726JJG93DMuOra8lbmpGV+Cwhef9rzi+/ssW8Clj0GZpP4Rrl2tyJhleu3SnoZy8rijNgUbyJgM4ilJn1/Eawq+f0D+TLoo3SB0fcNjOmlu6fj478PcyGB8O5hSViKpaLBkFpw79Jjaqzb2eXHIqO2oXjFvKF+QTYyzpaGB08T7AN+y6BdIM8AiVvyfHZforwx1ClpblNWBYOaZYRBYIVNTiil4jXARFs+U5ABE6M51LcGIIG4PUQ+SO2UwtCl6otdMJgH08vrBi/C8zcVcNcCOhnf0= vidhishah@vidhis-mbp.lan",
            "resource_controller_url": "https://cloud.ibm.com/vpc/compute/sshKeys",
            "resource_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::key:r006-69304857-5cd8-44f3-9e8d-6d1b6fc40927",
            "resource_group": null,
            "resource_group_name": "271bbee55baf463e81cec7de47d4b219",
            "resource_name": "vidhi-mac-new",
            "type": "rsa"
          },
          "sensitive_attributes": []
        },
        {
          "index_key": "vrh-new-mac",
          "schema_version": 0,
          "attributes": {
            "fingerprint": "SHA256:zswSXPcpgBc9lpB06aGfZqDEh65s5lqb1JjneIhHd0s",
            "id": "r006-2f4949c6-60c0-41da-8be4-93aa038c6989",
            "length": 4096,
            "name": "vrh-new-mac",
            "public_key": "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQDDyPjUv/3ZYL4qLjn61o0RGpZgUwuvc+Xcdh/SjjOPcuguLwAia4Sa7iHa/2zH6l7by1IzsBRLRVLNXzSgbirHdBsTqYQIYk0pGeRLnx5FXVNsPXC4vg9tXRC8DcG1y0rTrl2Wdl35oPRaQ1/dfShhs9WUZl5oo80eoJcsz9ZehZ7AhFP24kli5JF9SSpWH3KNpb/yCSMJEv26BdgmqGAeGKqS2SwzBM5kzxbALvZ1dBom/RehoAqL1EelFHf2naMNFJlYRdPC4oQve+rKnsAJj4ahke2qk8OoPPIJY1k5RAmCjJvf5i2A8Jo2wSvZQ4ExPxlPHlSISBaxACM0yfP/7I/zEpdDsNpCBmuUrJfsLpEyRBr2OnyquWeg3rWkJenSLuLAdt4Qt7/IV2vjvT9JQz6GsllITnFbLoOEvJdbcQKXH7teRmA9FHnYm/oueTp4SVfJHpmAfBVmPFyjdPfV2Xc0AQlRN8XOBAmhroDk8medNBkmxJXLbNPZ8K3799M= vinayakharnoor@Vinayaks-MacBook-Pro.local",
            "resource_controller_url": "https://cloud.ibm.com/vpc/compute/sshKeys",
            "resource_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::key:r006-2f4949c6-60c0-41da-8be4-93aa038c6989",
            "resource_group": null,
            "resource_group_name": "eaa88734293c44ae8aa04dadec48d1fb",
            "resource_name": "vrh-new-mac",
            "type": "rsa"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "ibm_is_subnet",
      "name": "subnet",
      "provider": "provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "index_key": "bastion-subnet",
          "schema_version": 0,
          "attributes": {
            "access_tags": [],
            "available_ipv4_address_count": 248,
            "crn": "crn:v1:bluemix:public:is:us-south-2:a/cdefe6d99f7ea459aacb25775fb88a33::subnet:0727-65791ece-db97-4c52-8261-0f24213f3654",
            "id": "0727-65791ece-db97-4c52-8261-0f24213f3654",
            "identifier": null,
            "ipv4_cidr_block": "10.240.64.0/24",
            "name": "bastion-subnet",
            "network_acl": "r006-e813782b-0dd8-4685-ae6e-727fbba02dfc",
            "public_gateway": "r006-d35468b9-7216-4c96-a1cc-0e1ed4755c02",
            "resource_controller_url": "https://cloud.ibm.com/vpc-ext/network/subnets",
            "resource_crn": "crn:v1:bluemix:public:is:us-south-2:a/cdefe6d99f7ea459aacb25775fb88a33::subnet:0727-65791ece-db97-4c52-8261-0f24213f3654",
            "resource_group": "271bbee55baf463e81cec7de47d4b219",
            "resource_group_name": "default",
            "resource_name": "bastion-subnet",
            "resource_status": "available",
            "status": "available",
            "tags": [],
            "total_ipv4_address_count": 256,
            "vpc": "r006-c5cb9bce-65d9-4710-8dee-8a3c2e3ac381",
            "vpc_name": "vpc-test-vidhi",
            "zone": "us-south-2"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "ibm_is_vpc",
      "name": "vpc",
      "provider": "provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "classic_access": false,
            "crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::vpc:r006-c5cb9bce-65d9-4710-8dee-8a3c2e3ac381",
            "cse_source_addresses": [
              {
                "address": "10.12.124.51",
                "zone_name": "us-south-1"
              },
              {
                "address": "10.249.203.68",
                "zone_name": "us-south-2"
              },
              {
                "address": "10.16.249.120",
                "zone_name": "us-south-3"
              }
            ],
            "default_network_acl": "r006-e813782b-0dd8-4685-ae6e-727fbba02dfc",
            "default_network_acl_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::network-acl:r006-e813782b-0dd8-4685-ae6e-727fbba02dfc",
            "default_network_acl_name": "recycling-malt-safari-prideful",
            "default_routing_table": "r006-89dc3530-b36d-4c41-a38d-62c0cd9f9ca8",
            "default_routing_table_name": "fantastic-front-shrug-irritably",
            "default_security_group": "r006-c995fb6f-2a11-4b84-b6b0-1d7b95c1496c",
            "default_security_group_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::security-group:r006-c995fb6f-2a11-4b84-b6b0-1d7b95c1496c",
            "default_security_group_name": "sagacity-distinct-reset-paddleboard",
            "id": "r006-c5cb9bce-65d9-4710-8dee-8a3c2e3ac381",
            "name": "vpc-test-vidhi",
            "resource_controller_url": "https://cloud.ibm.com/vpc-ext/network/vpcs",
            "resource_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::vpc:r006-c5cb9bce-65d9-4710-8dee-8a3c2e3ac381",
            "resource_group": "e61da2e396fa49c5853d53558b30cf6c",
            "resource_group_name": "Vidhi-RG",
            "resource_name": "vpc-test-vidhi",
            "resource_status": "available",
            "security_group": [
              {
                "group_id": "r006-1b28cea9-caf9-4832-973d-5bcc757050cb",
                "group_name": "kube-r006-c5cb9bce-65d9-4710-8dee-8a3c2e3ac381",
                "rules": [
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 32767,
                    "port_min": 30000,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-d0a5192c-2009-4b65-b861-acae9adcec6c",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 32767,
                    "port_min": 30000,
                    "protocol": "udp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-2ae45e84-868e-4d76-b2a4-198f58f5bb57",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 65535,
                    "port_min": 1,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-1b4551d6-96b5-4cde-8886-5c7b362ce06e",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 65535,
                    "port_min": 1,
                    "protocol": "udp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-01f415d3-d7bc-43c3-923a-09e30ca36afd",
                    "type": 0
                  }
                ]
              },
              {
                "group_id": "r006-673f7b42-1257-4640-bb4e-6af3f9b08cb0",
                "group_name": "kube-c6p52t5d00ka28ee1p70",
                "rules": [
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "172.17.0.0/18",
                    "rule_id": "r006-42bc2ee3-25ad-4492-a1af-8ec4522506e8",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "172.17.0.0/18",
                    "rule_id": "r006-696ecd4d-03d5-4590-99ab-9c799409f9da",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 32767,
                    "port_min": 30000,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-b351ccb8-1a7c-4203-adca-6a68429f2444",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 32767,
                    "port_min": 30000,
                    "protocol": "udp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-21cf02a8-f41f-4924-a2de-e428b4220d9f",
                    "type": 0
                  }
                ]
              },
              {
                "group_id": "r006-766f43f6-6293-4b42-ba21-599dc99f8963",
                "group_name": "g5g55g5g-teleport-security-group",
                "rules": [
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "161.26.0.10",
                    "rule_id": "r006-533d0ae4-2b25-45c0-b0b9-ea5390a9b32d",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "161.26.0.7",
                    "rule_id": "r006-c4ec98b9-4a40-446e-8e48-f9d5d3173f6d",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "161.26.0.11",
                    "rule_id": "r006-aa60c3fa-9123-4f23-be31-08360e1611e9",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 3080,
                    "port_min": 3080,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-dcb90b55-0a30-43be-9f1a-a7478b586424",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 3025,
                    "port_min": 3023,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-9dfc1a35-3b60-4f1b-9d53-bf44d48b2d92",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 443,
                    "port_min": 443,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-f370ab5a-ec92-47b3-876b-aedeec1d2e99",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 22,
                    "port_min": 22,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-2c719927-1560-46df-9790-d2a0873048b4",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 3025,
                    "port_min": 3023,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-95971d26-b1b5-44b4-a193-ca3a1b5fc407",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 3080,
                    "port_min": 3080,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-ce63baca-9e91-4063-ba32-c9ab691ba95d",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "161.26.0.8",
                    "rule_id": "r006-f35a578d-3cf4-44a2-8cb4-d7abf2abba42",
                    "type": 0
                  }
                ]
              },
              {
                "group_id": "r006-c995fb6f-2a11-4b84-b6b0-1d7b95c1496c",
                "group_name": "sagacity-distinct-reset-paddleboard",
                "rules": [
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-04dd3858-3c22-4461-9914-7027b3675460",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-de545e98-6300-4b20-8709-be8caa6c5885",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-222ba930-2322-4c29-b3a8-9e2a10eaceb0",
                    "type": 0
                  }
                ]
              },
              {
                "group_id": "r006-daee0073-63eb-43b7-a045-727aed39fa32",
                "group_name": "bastion-bastion-subnet-sg",
                "rules": [
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "161.26.0.8",
                    "rule_id": "r006-e8965827-8675-4e95-8d5a-8e3e38289ad6",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "161.26.0.10",
                    "rule_id": "r006-bcfed085-8fad-4d18-8fc4-28366bf1d620",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "161.26.0.11",
                    "rule_id": "r006-e83d5ad5-2f31-48be-87a5-43fd68d8fc24",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "161.26.0.7",
                    "rule_id": "r006-00c538f0-9c03-4182-bc2d-6600d14d7859",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 3080,
                    "port_min": 3080,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-c4f3fb94-3a38-4e19-a275-953b08de7ca7",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 3080,
                    "port_min": 3080,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-5d263171-4867-439d-9c77-43a4d5d42494",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 443,
                    "port_min": 443,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-601a59f2-001a-49b9-9025-6a597ee575b3",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 3025,
                    "port_min": 3023,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-84f67164-6d5e-4875-8a5e-18b3274dd7b4",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 3025,
                    "port_min": 3023,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-4e1b417d-3e6d-4613-8261-c74ad8f7bd7e",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 22,
                    "port_min": 22,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-bcabbffa-ca88-4261-bf2f-23ceca0cd951",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-e3395328-04a5-4b9e-8c22-81e9a7335120",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-211417d5-f694-462a-b8aa-e26c56fc0241",
                    "type": 0
                  }
                ]
              },
              {
                "group_id": "r006-ee3c6394-00de-4a2f-91ff-cb71937baaa2",
                "group_name": "bastion-sn-20210706-03-sg",
                "rules": [
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "161.26.0.10",
                    "rule_id": "r006-2a1f7f9c-b609-4d33-9694-ab92daae6838",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 443,
                    "port_min": 443,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-e94183c7-b561-427b-8abe-c85ed22347ad",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 22,
                    "port_min": 22,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-1e6e8ae9-5505-4ca4-afbd-4f6a92e4a2ca",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "161.26.0.7",
                    "rule_id": "r006-0faac404-7996-45fe-b4f7-bbd6ef3bcdf5",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "161.26.0.11",
                    "rule_id": "r006-6258643b-4b07-4242-a0b2-1eb72ba8c6bb",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 3080,
                    "port_min": 3080,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-be73aab8-2985-4ea8-aaa7-8378919d4861",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 3025,
                    "port_min": 3023,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-8ec66ea6-e389-426f-aad2-ed09c56a3d8d",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 3025,
                    "port_min": 3023,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-e606b5f8-7476-4be4-baa0-bbf5f7e5d839",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "inbound",
                    "ip_version": "ipv4",
                    "port_max": 3080,
                    "port_min": 3080,
                    "protocol": "tcp",
                    "remote": "0.0.0.0/0",
                    "rule_id": "r006-1557e7c2-0988-45bd-88b2-6e541ab2fb32",
                    "type": 0
                  },
                  {
                    "code": 0,
                    "direction": "outbound",
                    "ip_version": "ipv4",
                    "port_max": 0,
                    "port_min": 0,
                    "protocol": "all",
                    "remote": "161.26.0.8",
                    "rule_id": "r006-359214a3-2d89-481a-98db-dcfd9ed5c092",
                    "type": 0
                  }
                ]
              }
            ],
            "status": "available",
            "subnets": [
              {
                "available_ipv4_address_count": 248,
                "id": "0727-65791ece-db97-4c52-8261-0f24213f3654",
                "name": "bastion-subnet",
                "status": "available",
                "total_ipv4_address_count": 256,
                "zone": "us-south-2"
              }
            ],
            "tags": []
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "ibm_resource_group",
      "name": "resource_group",
      "provider": "provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "cdefe6d99f7ea459aacb25775fb88a33",
            "created_at": "2017-09-17T06:39:38.903Z",
            "crn": "crn:v1:bluemix:public:resource-controller::a/cdefe6d99f7ea459aacb25775fb88a33::resource-group:271bbee55baf463e81cec7de47d4b219",
            "id": "271bbee55baf463e81cec7de47d4b219",
            "is_default": true,
            "name": "default",
            "payment_methods_url": "/v2/resource_groups/271bbee55baf463e81cec7de47d4b219/payment_methods",
            "quota_id": "a3d7b8d01e261c24677937c29ab33f3c",
            "quota_url": "/v2/quota_definitions/a3d7b8d01e261c24677937c29ab33f3c",
            "resource_linkages": [],
            "state": "ACTIVE",
            "teams_url": "/v2/resource_groups/271bbee55baf463e81cec7de47d4b219/teams",
            "updated_at": "2017-09-17T06:39:38.903Z"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "ibm_resource_instance",
      "name": "appid",
      "provider": "provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "crn": "crn:v1:bluemix:public:appid:us-south:a/cdefe6d99f7ea459aacb25775fb88a33:e5eb7139-318e-4948-8873-f7aa48047c20::",
            "extensions": {},
            "guid": "e5eb7139-318e-4948-8873-f7aa48047c20",
            "id": "crn:v1:bluemix:public:appid:us-south:a/cdefe6d99f7ea459aacb25775fb88a33:e5eb7139-318e-4948-8873-f7aa48047c20::",
            "location": "us-south",
            "name": "App ID-vidhi",
            "plan": "graduated-tier",
            "resource_controller_url": "https://cloud.ibm.com/services/",
            "resource_crn": "crn:v1:bluemix:public:appid:us-south:a/cdefe6d99f7ea459aacb25775fb88a33:e5eb7139-318e-4948-8873-f7aa48047c20::",
            "resource_group_id": "271bbee55baf463e81cec7de47d4b219",
            "resource_group_name": "",
            "resource_name": "App ID-vidhi",
            "resource_status": "active",
            "service": "appid",
            "status": "active",
            "tags": []
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "ibm_resource_key",
      "name": "appid_resource_key",
      "provider": "provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "credentials": {
              "apikey": "IABjwNaoEI0H1JJDwa58jbLrn9awxK-k1x_QPh38oLWS",
              "appidServiceEndpoint": "https://us-south.appid.cloud.ibm.com",
              "clientId": "38fd7239-35be-424f-b90d-c0dbc10c620e",
              "discoveryEndpoint": "https://us-south.appid.cloud.ibm.com/oauth/v4/e5eb7139-318e-4948-8873-f7aa48047c20/.well-known/openid-configuration",
              "iam_apikey_description": "Auto-generated for key crn:v1:bluemix:public:appid:us-south:a/cdefe6d99f7ea459aacb25775fb88a33:e5eb7139-318e-4948-8873-f7aa48047c20:resource-key:38fd7239-35be-424f-b90d-c0dbc10c620e",
              "iam_apikey_name": "vidhi-fs-cloud-appid",
              "iam_role_crn": "crn:v1:bluemix:public:iam::::serviceRole:Writer",
              "iam_serviceid_crn": "crn:v1:bluemix:public:iam-identity::a/cdefe6d99f7ea459aacb25775fb88a33::serviceid:ServiceId-74a8519b-0c2c-4d9d-ae49-b5e16e6d213f",
              "managementUrl": "https://us-south.appid.cloud.ibm.com/management/v4/e5eb7139-318e-4948-8873-f7aa48047c20",
              "oauthServerUrl": "https://us-south.appid.cloud.ibm.com/oauth/v4/e5eb7139-318e-4948-8873-f7aa48047c20",
              "profilesUrl": "https://us-south.appid.cloud.ibm.com",
              "secret": "OGZhNjk5NDUtMmE1Ni00ODU1LWE0OTAtMDc5OWI0OWMyZWEx",
              "tenantId": "e5eb7139-318e-4948-8873-f7aa48047c20"
            },
            "crn": "crn:v1:bluemix:public:appid:us-south:a/cdefe6d99f7ea459aacb25775fb88a33:e5eb7139-318e-4948-8873-f7aa48047c20:resource-key:38fd7239-35be-424f-b90d-c0dbc10c620e",
            "id": "crn:v1:bluemix:public:appid:us-south:a/cdefe6d99f7ea459aacb25775fb88a33:e5eb7139-318e-4948-8873-f7aa48047c20:resource-key:38fd7239-35be-424f-b90d-c0dbc10c620e",
            "most_recent": false,
            "name": "vidhi-fs-cloud-appid",
            "resource_alias_id": null,
            "resource_instance_id": "crn:v1:bluemix:public:appid:us-south:a/cdefe6d99f7ea459aacb25775fb88a33:e5eb7139-318e-4948-8873-f7aa48047c20::",
            "role": "Writer",
            "status": "active"
          },
          "sensitive_attributes": []
        }
      ]
    },
    {
      "mode": "data",
      "type": "template_cloudinit_config",
      "name": "cloud_init",
      "provider": "provider[\"registry.terraform.io/hashicorp/template\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "base64_encode": false,
            "gzip": false,
            "id": "3744546032",
            "part": [
              {
                "content": "#cloud-config\npackages:\n  - tar\nwrite_files:\n  - path: /root/license.pem\n    permissions: '0644'\n    encoding: base64\n    content: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVkVENDQTEyZ0F3SUJBZ0lVUjNvdVlIWmNVOFFMR1MzM1BiSmRwcDJhRGVNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0pqRWtNQ0lHQTFVRUF4TWJaR0Z6YUdKdllYSmtMbWR5WVhacGRHRjBhVzl1WVd3dVkyOXRNQ0FYRFRFNQpNVEl3TXpBME5UUTFNRm9ZRHpJeE1Ua3hNVEE1TURVMU5EVXdXakF0TVJrd0Z3WURWUVFLRXhCbmNtRjJhWFJoCmRHbHZibUZzTG1sdk1SQXdEZ1lEVlFRREV3ZHNhV05sYm5ObE1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQVE4QU1JSUJDZ0tDQVFFQTNUQkpnS2pNazVwb01zUU02Q3BnWFJCZFMyeFFvd3dCd0x2eUJUMzlYR3pYTUVnbQp1NHlwczB3dWRqMlRkbTJ6NXhYbmp2Qi9ySVIwTHh0N040ZTNPOTBJQ3hXaEY0OEFyRTR4RE5SWDVzeGp0bXQ3CjBtUytPMVIyc1EwY2ZZYWp1NEpYcElCbjZ3cE9qc2tBNUZIb05oM3NlTU0xemo1YXNqZUNFNDIzdnUwUk1uNnoKWmp6SVM5N1pENjBKZlRwMjhrSk1KZXJzMks3N2ZPbTRWZlBqRDhqVmpPakJYNWtTY3lRekJYM1dJZEV2UVdFawozQkd5cWJqVUFSakhJZnNpL1BFRGlGRGgwUXpFaEZVR1RlMTdJZXlBbDU2V3BBNkhNMEduNXhxOUVQdzB1YW9lCjZZSkhRcnY2dWdHTGJkcmU5RHUzY2puRlNVc0wzYld4K09ibnh3SURBUUFCbzRJQmtEQ0NBWXd3RGdZRFZSMFAKQVFIL0JBUURBZ1dnTUIwR0ExVWRKUVFXTUJRR0NDc0dBUVVGQndNQkJnZ3JCZ0VGQlFjREFqQU1CZ05WSFJNQgpBZjhFQWpBQU1CMEdBMVVkRGdRV0JCUm9TVXVnQXpjTXdHdU5uTUVML1lJK3V5SU1IakFmQmdOVkhTTUVHREFXCmdCUThPTU5UL0xLN3U3TE9QYno4OHZxTTBzM2tGVEFQQmdOVkhSRUVDREFHaHdSL0FBQUJNSUg3QmdKVktnU0IKOUhzaWEybHVaQ0k2SW14cFkyVnVjMlVpTENKMlpYSnphVzl1SWpvaWRqTWlMQ0p0WlhSaFpHRjBZU0k2ZXlKdQpZVzFsSWpvaVlqVTFNekpoTlRZdFl6UmlaQzAwT0RRNUxUazRNbVV0T0dNM09Ea3pOR0UyWkRNMklpd2liR0ZpClpXeHpJanA3SWtWdFlXbHNJam9pYzNSdGRYSmhhMkZBZFhNdWFXSnRMbU52YlNKOUxDSmxlSEJwY21Weklqb2kKTWpFeE9TMHhNUzB3T1ZRd05UbzFORG8xTUM0ek9EWTBNVFl3T0ROYUluMHNJbk53WldNaU9uc2lZV05qYjNWdQpkRjlwWkNJNkltTjFjMTlGYW1WWGJrcFBlRWh2YW5WMFJ5SXNJbXM0Y3lJNmRISjFaU3dpZFhOaFoyVWlPbVpoCmJITmxmWDB3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQU56cWpnbUxzYzBFcmpWSHpYdzlVTmZmdU9mR243aFYKMXlXTENaY3d0czJCUllmU1BMbnZlL3ZVN254WUVlWXJQN1JnRk1YSkU4aU95NlVoYmFaWDJZR0JrK3RLdVdaeApKMDV2K2F4NkNlQm54MnZUNjZNREZNK0JTUWQvb2p1bElncUJheDc5Nit1RXRyOXR2OGs5SEUxR21tOURiRGxSCnVvSGZ5UENFWnMwaTFHSDVBbmZhOWxSVDFhR3lvbWxISTZzeWxnQWRSZE1ZN1FsaU9Wd3l2c2VFK29CU3NiSDkKOUpFaURoNDNlSHpMVnVwSjBIMzUvZnBzVzVNRS9rd0poVU5KbXJ4c2Q0N201VWU2U0dIcVRHUlhFbUxPSlpPYgpFRVk0RDB0WGlqYnFObTd3Wi9Mb2xxUGlUdDBEc29sblRvK3lNT25jNjZEQUI5cjhiYjEzWFhZPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gUlNBIFBSSVZBVEUgS0VZLS0tLS0KTUlJRXBBSUJBQUtDQVFFQTNUQkpnS2pNazVwb01zUU02Q3BnWFJCZFMyeFFvd3dCd0x2eUJUMzlYR3pYTUVnbQp1NHlwczB3dWRqMlRkbTJ6NXhYbmp2Qi9ySVIwTHh0N040ZTNPOTBJQ3hXaEY0OEFyRTR4RE5SWDVzeGp0bXQ3CjBtUytPMVIyc1EwY2ZZYWp1NEpYcElCbjZ3cE9qc2tBNUZIb05oM3NlTU0xemo1YXNqZUNFNDIzdnUwUk1uNnoKWmp6SVM5N1pENjBKZlRwMjhrSk1KZXJzMks3N2ZPbTRWZlBqRDhqVmpPakJYNWtTY3lRekJYM1dJZEV2UVdFawozQkd5cWJqVUFSakhJZnNpL1BFRGlGRGgwUXpFaEZVR1RlMTdJZXlBbDU2V3BBNkhNMEduNXhxOUVQdzB1YW9lCjZZSkhRcnY2dWdHTGJkcmU5RHUzY2puRlNVc0wzYld4K09ibnh3SURBUUFCQW9JQkFFeG1lbTBMWVNaMnhoa0sKNk41a2pNWjRlWkVzeDZtWjR4MGNqaHRMYnpFMmt4bWxRbU96MFlZU0FWWnNMSHhTcGpwaXNZb0kva0NydTZudAoxeUMyS3c5dGFITFR0TUg3YmlNV0d4RXdZM0JnRnUwU3NVRlo5Tzl2WEZRSmtGYTNZK1RIdjlnZFZrZTBWckF4Ck03S3ByQWpOU3publM3V0NpamRXdndKY0NDVFUvNDlKT0NDOXJUT282RGFzZUt6cXJJcEJhaU9QSmJNZlB3WlQKNm1raEg0ZTBaMm1sT3kzTDllYWhaNGYxMFJ6QkIrWEdrVVpSZWNhZ3hHZlY1OVd4bXYrNnNXNVlmVHJMdDNndQpGM2d5dkVudC9aaVg5allzdm1XWmR6SllDNEpuWERVMk5WbXlaN0cxK21SUUVlaE1rN09BY1hJeHMybk9rdTFzCmdoSEt2b0VDZ1lFQTlRZlNQYUtJN2xtQzZqclp3MjZvMUphZ1g0TGRDdFlNdXpFZi9DMnZYNmdYL2pyMXBuV1AKS0FtcDB1SjFPajZpS0xiOHJWRzhuVXlQb21qTndTcCsvQWNwVjJ5TVZQOTF3K0JISFVkcjA0UmNQWUNGUmpkYwp5d1hzYWwrNGozaExETlF1b0JJMEJTZ1hDM3V2cmtiOFNDRTUrdi9OaldsQThPUW1EQ21STnNFQ2dZRUE1eGM1CmpvVW50ajJiZ0hZR3MrSitlNmpjbEVxOVdWOTFRRlcwNVVhbzg2QVp0UlpqdTQ2ZHFLZkF0eFpGOHB2c3NQMmwKenkrTytRWElOVU56TlNidXBhdzREQlk2TUxSUHlZaWMwRS9wQy9PMk1wS1dBaTAzd3d5TXlzU2hQK2FJWkQ3aQowWmJuZDQ5ZUNhdEpqS0RPM3FoWkVHNWNkVVA1L2tBT1ZmL2RDSWNDZ1lFQThDcVdXMnN3STg4QWptellmTUcrCklZRHgrQ3ZnVkhxeFI5bENySDVxNHF0enVQQTVUc3J6WWg3Mm9ZanR0Z1VtRkJvbldBcEJnVHhGbkw1MHpkekYKVW1vQ2ozb0pvbFl5SzZkc2pMb3dhY1hXVTBIaFg0MXNHbUxYOHZ1WGZxZzloM21CcWN1dHlWQWVKbGM1UHV5OAo0a1lPK29JNEMxOGJGQUhMZVNoVStRRUNnWUVBcTZYRm04WHQvR0NBYTRlL2JNZ1VtUGVSZUJpWDBwV2ordmh1CldFc0czWWNTOFQ1RE1DSTdtdldYb0tiTHArd0hnR08zVUZDTUN3NHZhdGpCN3o0T3owSS9rMExEVUQvdWI4eW8KWmRhbFRMcG1uK1BmeHBnZHJpUlpRNWVRQ20zSzYyTUdpUlZrc3Byc0I1U1NHZ0dzQnhqV3B1ekNnbHZPaWZxOAphMGFVd0dzQ2dZQUUrQ2tvTEZmeG5IQUpBVSs1dkxMOEtMZFgva1gzUUd4cHhFdHdRZ0FQUjd3S25YeWlWMjA3CnVBUXViQzJzL25pMkRxbUhqa0ZMWUw0UkNUY1ZCVVdFbHphYUNvOXdpa1M2RnNMK2lwRWVGbWo5Z2tHT2IwMHkKQ2swNzgvNmh6Y0o0V0wrYkovZ3NKaDJ0T1oyazBySUxiVkkvUG93eDJLbFVkdnR6cDljVXh3PT0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0=\n\n  - path: /root/cert.pem\n    permission: '0644'\n    encoding: base64\n    content: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURWRENDQWp5Z0F3SUJBZ0lVWTZpNjBqTHNtRkRrWWgxUjZ2NTlWbFg5U1pvd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0dURVhNQlVHQTFVRUF3d09OVEl1TVRFMkxqRTVOQzR5TVRJd0hoY05Nakl3TXpFMU1qQTBORE01V2hjTgpNekl3TXpFeU1qQTBORE01V2pBWk1SY3dGUVlEVlFRRERBNDFNaTR4TVRZdU1UazBMakl4TWpDQ0FTSXdEUVlKCktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU1GWCtTdCtLQU1oK2tVMUloK25DTDBVOUFKQ1VNRHMKbEVCNDJ6NmdPYzdWNFVGcUN3QktBSDQxYWg0WFl6c3RzeGxJYWpMMWNrTXJ1Mk1Dc2dSSUNrWkZHR01xOXl4cgo0eW9ON2dCeStjcmkwMm1tbVd6d1BzWG5JV3VrS3lRUUxaOFZKT1I1d21jcWV0ZUI2N041aEt1VWtldThUQm9uCkpqL1JOSno2L250blRiNGRFWlk1Nis3WWxOMEMyc21nT3Vjd0Nka0lRb1FYVzZKY293N2ptRUpiRTdGSGZUWUMKeFdtMlNvMWVhVDBLQmFaRU9HeDRCZGlYeHdxTi9yRE5FZC9JeXcvQkdqelBOdk5kOXk1TWJONy81bnQ0ck13dwpFdlNuaTRnQnlnSGhkRFgvYXJSTkozVy8zTDVxOElmbW8zQW9yWkVVb0VFbjloSEtnYkMrUGEwQ0F3RUFBYU9CCmt6Q0JrREFkQmdOVkhRNEVGZ1FVUlpiS0Fic01mRmwwTENGRHRMVTdIdEZzT2Rzd1ZBWURWUjBqQkUwd1M0QVUKUlpiS0Fic01mRmwwTENGRHRMVTdIdEZzT2R1aEhhUWJNQmt4RnpBVkJnTlZCQU1NRGpVeUxqRXhOaTR4T1RRdQpNakV5Z2hSanFMclNNdXlZVU9SaUhWSHEvbjFXVmYxSm1qQU1CZ05WSFJNRUJUQURBUUgvTUFzR0ExVWREd1FFCkF3SUJCakFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBYWpoMVg1T2h6SHRUb0I4VGxOc0dOY0FBWFRnaU9zc0IKdkthc0tlSlREbk9Wd1ZBZDZYRzdITUhCK0pRY3YxV1hPdlgwcDhsa2NqTW1nZC91a2dTaVAvVnJhQVFUZ25Ybgpldk5NaUcram8rTDdPQ3hOdy9mMGFWWWl1bFcwRFk1YXRmVVlrMmQrK29iUmZBOHl2bHpOM3M5aURXdjZjUzBMCmlGZmczVU1tZU9LeUlNR21PVmZpT0NScWJpZEdER3BoWFhoTW9DVUtnbUUxVEFGcTNWeHFHa2JSeXo4NWZ4SGsKbGZTSGxocmpVU294UWFPNHBkTUd0djJsOXlJT01qR3Z5ejZEVmRrUERHY3NHYW9sSk1WZzVTM3RJeTQreGZNMgo5OHRIMklNdmd6TEdESkhuUjdwYnNrUDVJdWZNc2duY21zMFVjOVA3Y2VLNEpyRmdUQTFteHc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t\n    \n  - path: /root/key.pem\n    permission: '0644'\n    encoding: base64\n    content: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBd1ZmNUszNG9BeUg2UlRVaUg2Y0l2UlQwQWtKUXdPeVVRSGpiUHFBNXp0WGhRV29MCkFFb0FmalZxSGhkak95MnpHVWhxTXZWeVF5dTdZd0t5QkVnS1JrVVlZeXIzTEd2aktnM3VBSEw1eXVMVGFhYVoKYlBBK3hlY2hhNlFySkJBdG54VWs1SG5DWnlwNjE0SHJzM21FcTVTUjY3eE1HaWNtUDlFMG5QcitlMmROdmgwUgpsam5yN3RpVTNRTGF5YUE2NXpBSjJRaENoQmRib2x5akR1T1lRbHNUc1VkOU5nTEZhYlpLalY1cFBRb0Zwa1E0CmJIZ0YySmZIQ28zK3NNMFIzOGpMRDhFYVBNODI4MTMzTGt4czN2L21lM2lzekRBUzlLZUxpQUhLQWVGME5mOXEKdEUwbmRiL2N2bXJ3aCthamNDaXRrUlNnUVNmMkVjcUJzTDQ5clFJREFRQUJBb0lCQUh3cWF6S3JTamI0MHlrdQova01sbWs4VDdjQ2xwZ2EvNkZXZlIrM29LRGZVMDF5WEpZbUIvTjhRbnAzRWwwMmlBNnJ3L29MTGJoNEZMOHBlCktNVG5IdklSM1orU01EcXU3cXhMVmRXa0FSZHlwQ0x0Z3dxYkh6VXBRaVZHd1EzZjlleDhQNzBiRk9YOE9mZTgKMEFucXVIRVljTDNicDJRRVVHUWJqcFpoK3B4MGxDZEhuNm1ieVo4RUYyUVJCcFNmczA0M3JBRXBPVEtnQ245egorMzJiMk5wZFFxWjlReE9iSVFNU3ZNZjhBcDUrS3lQRFBNRjFZMzFtTnR5YU42MmNCQ09GSnQ4MVk4aG9aRHFNClJtSStoVUpnQ2JLWEpEanNJRzdDZko5N0Z6ZWJ1RVJpaThsVGNXcFJtMWRGNndxK1RjOFJKcWJHWFFZbGVjeHQKK08rRXVHRUNnWUVBOWE1L3JQczcvR3E5eDZlem9IeFNxbEsrS2doY1RiZWFJeE5qRUdMMEZXaG5yRWREUEhIOQpiNFhMKzQ5S1RWNWNicVo0aXR5U0VWbmlMZzNadWlsK2x6OS9HTVF0VlJvODV6UVdSNi83a2ZUOGUwb2YrL1RsCmIxR3BiVTNvVEFJMmxNRm0wNkxvckt6WWZORTNCN1U0U2xKYkdRK2pXM3RMZDhzTTgrTUJWVHNDZ1lFQXlYYkEKUFcwN0NHbXlQYldHb3FTb2RrUjZlVHdoTmw1MklsTHdFUHV4ZXFPREJJT3BNMkVDUGVsd2orL2RjcW41ZlV1RgpOeGhnV25naFFaT2tDYk1nYjZHOVpURDdwQTlHM0VKZDZ0NFk4cWViNU95SlFya2V5ZEV6ckE4SmlpV3pvZVpsCkFtL1luVC9vWExXc2tuS1J5QWRIb2hVTDFwUlBiYXYwWEczWDZqY0NnWUFQU0p5K3VSNWhOSTY3MWUzeHhPb3IKbUZ3bUowRCt3TFpCQ2xxMlVVR1g5MWZEdXVjdTRuUit0SmNjL2l3RUppT2Y2cEZES2plWUJyeHdXd0k1ZDQxZApnV0M1dkxLSlFjbWFKSDVpVlV0VUtDWncwUXF1Vk96VkFRS0dQenQ5UndINFBSUFZoS1B1NGczUnJmNDdaNFdwCjhmZWkxbnMySExSMExsaU83NGRNc3dLQmdRQ3Y0bnp6SStubDdtRXVmc3lNTWpUaEMrZmc4QjRPMldsSmpoOEkKdExTOTNRTUZiZXpLYm1jR3BrY2ZZc3B5MFBKLzhPN2NxdXQwRUd6NFUyMWpDbi9HOWUzajZsL0hXNDhCdk85QgpuYVVxTkNwbU1odWpwUHE4TjJobFRydUZZR1R6YzdHNzd1bXVYNXo5VTU3V1BEQUo4bEVYc0VnbGpsWEo2ZFhzCjIva2xBUUtCZ0ZhTjJTR2NnZEtaQ3BxcHBOd2NhbVdOMWhLM1FuSXdrQ2dQRndtbGFTZG9haEdwWmI3UEFuaFEKU1EvZ2NmUlVrNkJOOFY1bStVRjFLQTJqSHZOMDlrZUk0VTBPZ09OMEtrTTIzZjZCTUhLdkNFNU9mLzJ3U29PWgpKSUpPeE5ZeEZROHhqY01UQzFjZklZakNuRnhuSVZpdnhick5iQkkycXM1eEtnTmJGZzVCCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0t\n\n  - path: /root/roles.yaml\n    permission: '0644'\n    content: |\n      # Example role\n      # Add any additional ones to the end\n      kind: \"role\"\n      version: \"v3\"\n      metadata:\n        name: \"teleport-admin\"\n      spec:\n        options:\n          max_connections: 3\n          cert_format: standard\n          client_idle_timeout: 15m\n          disconnect_expired_cert: no\n          enhanced_recording:\n          - command\n          - network\n          forward_agent: true\n          max_session_ttl: 1h\n          port_forwarding: false\n        allow:\n          logins: [root]\n          node_labels:\n            \"*\": \"*\"\n          rules:\n          - resources: [\"*\"]\n            verbs: [\"*\"]\n      ---\n   \n  - path: /root/oidc.yaml\n    permission: '0644'\n    content: |\n      #oidc connector\n      kind: oidc\n      version: v2\n      metadata:\n        name: appid\n      spec:\n        redirect_url: \"https://g5g55g5g-teleport-vsi.bastion-v9:3080/v1/webapi/oidc/callback\"\n        client_id: \"38fd7239-35be-424f-b90d-c0dbc10c620e\"\n        display: AppID\n        client_secret: \"OGZhNjk5NDUtMmE1Ni00ODU1LWE0OTAtMDc5OWI0OWMyZWEx\"\n        issuer_url: \"https://us-south.appid.cloud.ibm.com/oauth/v4/e5eb7139-318e-4948-8873-f7aa48047c20\"\n        scope: [\"openid\", \"email\"]\n        claims_to_roles: \n          - {claim: \"email\", value: \"daroush.renoit@ibm.com\", roles: [\"teleport-admin\"]}\n\n  - path: /etc/teleport.yaml\n    permission: '0644'\n    content: |\n      #teleport.yaml\n      teleport:\n        nodename: g5g55g5g-teleport-vsi.bastion-v9\n        data_dir: /var/lib/teleport\n        log:\n          output: stderr\n          severity: DEBUG \n        storage:\n          audit_sessions_uri: \"s3://dr-bucket-test1?endpoint=s3.private.us-south.cloud-object-storage.appdomain.cloud\u0026region=ibm\"\n\n      auth_service:\n        enabled: \"yes\"\n        listen_addr: 0.0.0.0:3025\n        authentication:\n          type: oidc\n          local_auth: false\n        license_file: /var/lib/teleport/license.pem\n        message_of_the_day: \n\n      ssh_service:\n        enabled: \"yes\"\n        commands:\n        - name: hostname\n          command: [hostname]\n          period: 1m0s\n        - name: arch\n          command: [uname, -p]\n          period: 1h0m0s\n\n      proxy_service:\n        enabled: \"yes\"\n        listen_addr: 0.0.0.0:3023\n        web_listen_addr: 0.0.0.0:3080\n        tunnel_listen_addr: 0.0.0.0:3024\n        https_cert_file: /var/lib/teleport/cert.pem\n        https_key_file: /var/lib/teleport/key.pem\n\n  - path: /etc/systemd/system/teleport.service\n    permissions: '0644'\n    content: |\n      [Unit]\n      Description=Teleport Service\n      After=network.target\n\n      [Service]\n      Type=simple\n      Restart=on-failure\n      Environment=AWS_ACCESS_KEY_ID=\"b3853eee0b7341c28a69c1018a35e3f2\"\n      Environment=AWS_SECRET_ACCESS_KEY=\"2a9ea1bf8598dc476e7133542f8002a93a3286ab0d5c3aae\"\n      ExecStart=/usr/local/bin/teleport start --config=/etc/teleport.yaml --pid-file=/run/teleport.pid\n      ExecReload=/bin/kill -HUP $MAINPID\n      PIDFile=/run/teleport.pid\n\n      [Install]\n      WantedBy=multi-user.target\n\n  - path: /root/install.sh\n    permissions: '0755'\n    content: |\n      #!/bin/bash\n      set -x\n      setup_path=\"/root\"\n      teleport_file=\"teleport-ent-v7.1.3-linux-amd64-bin.tar.gz\"\n      teleport_url=\"https://get.gravitational.com/$teleport_file\"\n\n      #retrieve and extract teleport\n      cd $setup_path\n      curl --connect-timeout 30 --retry 15 --retry-delay 10 $teleport_url --output $teleport_file\n      tar -xvzf $teleport_file\n\n      #Copy files over\n      cp $setup_path/teleport-ent/teleport /usr/local/bin/\n      cp $setup_path/teleport-ent/tctl /usr/local/bin/\n      cp $setup_path/teleport-ent/tsh /usr/local/bin/\n\n      #Make the /var/lib/teleport directory\n      TELEPORT_CONFIG_PATH=\"/var/lib/teleport\"\n      mkdir $TELEPORT_CONFIG_PATH\n\n      #copy files for /root to /var/lib/\n      cp $setup_path/license.pem $TELEPORT_CONFIG_PATH\n      cp $setup_path/cert.pem $TELEPORT_CONFIG_PATH\n      cp $setup_path/key.pem $TELEPORT_CONFIG_PATH\n\n      sudo systemctl daemon-reload\n      sudo systemctl start teleport\n      sudo systemctl enable teleport\n\n      # allow ports for firewall \n      # check if firewalld is used\n      firewall-cmd -h \n      rc=$?\n      if [[ $rc -eq 0 ]]; then\n         systemctl stop firewalld\n         sudo firewall-offline-cmd --zone=public --add-port=3023/tcp\n         #sudo firewall-cmd --permanent --zone=public --add-port=3023/tcp\n         sudo firewall-offline-cmd --zone=public --add-port=3080/tcp\n         #sudo firewall-cmd --permanent --zone=public --add-port=3080/tcp\n         systemctl start firewalld\n      fi\n\n      # check if firewalld is used\n      ufw version\n      rc=$?\n      if [[ $rc -eq 0 ]]; then\n         ufw allow 3023,3080/tcp\n      fi\n\n      #distro=$(awk '/DISTRIB_ID=/' /etc/*-release | sed 's/DISTRIB_ID=//' | tr '[:upper:]' '[:lower:]')\n      #echo $distro\n      #if [[ $distro == \"ubuntu\" ]]; then\n      #    ufw allow 3023,3080/tcp\n      #fi\n\n      sleep 120\n      ## Apply the oidc and role configuration\n      tctl create $setup_path/roles.yaml\n      tctl create $setup_path/oidc.yaml\n\nruncmd:\n   - /root/install.sh",
                "content_type": "",
                "filename": "",
                "merge_type": ""
              }
            ],
            "rendered": "Content-Type: multipart/mixed; boundary=\"MIMEBOUNDARY\"\nMIME-Version: 1.0\r\n\r\n--MIMEBOUNDARY\r\nContent-Transfer-Encoding: 7bit\r\nContent-Type: text/plain\r\nMime-Version: 1.0\r\n\r\n#cloud-config\npackages:\n  - tar\nwrite_files:\n  - path: /root/license.pem\n    permissions: '0644'\n    encoding: base64\n    content: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVkVENDQTEyZ0F3SUJBZ0lVUjNvdVlIWmNVOFFMR1MzM1BiSmRwcDJhRGVNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0pqRWtNQ0lHQTFVRUF4TWJaR0Z6YUdKdllYSmtMbWR5WVhacGRHRjBhVzl1WVd3dVkyOXRNQ0FYRFRFNQpNVEl3TXpBME5UUTFNRm9ZRHpJeE1Ua3hNVEE1TURVMU5EVXdXakF0TVJrd0Z3WURWUVFLRXhCbmNtRjJhWFJoCmRHbHZibUZzTG1sdk1SQXdEZ1lEVlFRREV3ZHNhV05sYm5ObE1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQVE4QU1JSUJDZ0tDQVFFQTNUQkpnS2pNazVwb01zUU02Q3BnWFJCZFMyeFFvd3dCd0x2eUJUMzlYR3pYTUVnbQp1NHlwczB3dWRqMlRkbTJ6NXhYbmp2Qi9ySVIwTHh0N040ZTNPOTBJQ3hXaEY0OEFyRTR4RE5SWDVzeGp0bXQ3CjBtUytPMVIyc1EwY2ZZYWp1NEpYcElCbjZ3cE9qc2tBNUZIb05oM3NlTU0xemo1YXNqZUNFNDIzdnUwUk1uNnoKWmp6SVM5N1pENjBKZlRwMjhrSk1KZXJzMks3N2ZPbTRWZlBqRDhqVmpPakJYNWtTY3lRekJYM1dJZEV2UVdFawozQkd5cWJqVUFSakhJZnNpL1BFRGlGRGgwUXpFaEZVR1RlMTdJZXlBbDU2V3BBNkhNMEduNXhxOUVQdzB1YW9lCjZZSkhRcnY2dWdHTGJkcmU5RHUzY2puRlNVc0wzYld4K09ibnh3SURBUUFCbzRJQmtEQ0NBWXd3RGdZRFZSMFAKQVFIL0JBUURBZ1dnTUIwR0ExVWRKUVFXTUJRR0NDc0dBUVVGQndNQkJnZ3JCZ0VGQlFjREFqQU1CZ05WSFJNQgpBZjhFQWpBQU1CMEdBMVVkRGdRV0JCUm9TVXVnQXpjTXdHdU5uTUVML1lJK3V5SU1IakFmQmdOVkhTTUVHREFXCmdCUThPTU5UL0xLN3U3TE9QYno4OHZxTTBzM2tGVEFQQmdOVkhSRUVDREFHaHdSL0FBQUJNSUg3QmdKVktnU0IKOUhzaWEybHVaQ0k2SW14cFkyVnVjMlVpTENKMlpYSnphVzl1SWpvaWRqTWlMQ0p0WlhSaFpHRjBZU0k2ZXlKdQpZVzFsSWpvaVlqVTFNekpoTlRZdFl6UmlaQzAwT0RRNUxUazRNbVV0T0dNM09Ea3pOR0UyWkRNMklpd2liR0ZpClpXeHpJanA3SWtWdFlXbHNJam9pYzNSdGRYSmhhMkZBZFhNdWFXSnRMbU52YlNKOUxDSmxlSEJwY21Weklqb2kKTWpFeE9TMHhNUzB3T1ZRd05UbzFORG8xTUM0ek9EWTBNVFl3T0ROYUluMHNJbk53WldNaU9uc2lZV05qYjNWdQpkRjlwWkNJNkltTjFjMTlGYW1WWGJrcFBlRWh2YW5WMFJ5SXNJbXM0Y3lJNmRISjFaU3dpZFhOaFoyVWlPbVpoCmJITmxmWDB3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQU56cWpnbUxzYzBFcmpWSHpYdzlVTmZmdU9mR243aFYKMXlXTENaY3d0czJCUllmU1BMbnZlL3ZVN254WUVlWXJQN1JnRk1YSkU4aU95NlVoYmFaWDJZR0JrK3RLdVdaeApKMDV2K2F4NkNlQm54MnZUNjZNREZNK0JTUWQvb2p1bElncUJheDc5Nit1RXRyOXR2OGs5SEUxR21tOURiRGxSCnVvSGZ5UENFWnMwaTFHSDVBbmZhOWxSVDFhR3lvbWxISTZzeWxnQWRSZE1ZN1FsaU9Wd3l2c2VFK29CU3NiSDkKOUpFaURoNDNlSHpMVnVwSjBIMzUvZnBzVzVNRS9rd0poVU5KbXJ4c2Q0N201VWU2U0dIcVRHUlhFbUxPSlpPYgpFRVk0RDB0WGlqYnFObTd3Wi9Mb2xxUGlUdDBEc29sblRvK3lNT25jNjZEQUI5cjhiYjEzWFhZPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gUlNBIFBSSVZBVEUgS0VZLS0tLS0KTUlJRXBBSUJBQUtDQVFFQTNUQkpnS2pNazVwb01zUU02Q3BnWFJCZFMyeFFvd3dCd0x2eUJUMzlYR3pYTUVnbQp1NHlwczB3dWRqMlRkbTJ6NXhYbmp2Qi9ySVIwTHh0N040ZTNPOTBJQ3hXaEY0OEFyRTR4RE5SWDVzeGp0bXQ3CjBtUytPMVIyc1EwY2ZZYWp1NEpYcElCbjZ3cE9qc2tBNUZIb05oM3NlTU0xemo1YXNqZUNFNDIzdnUwUk1uNnoKWmp6SVM5N1pENjBKZlRwMjhrSk1KZXJzMks3N2ZPbTRWZlBqRDhqVmpPakJYNWtTY3lRekJYM1dJZEV2UVdFawozQkd5cWJqVUFSakhJZnNpL1BFRGlGRGgwUXpFaEZVR1RlMTdJZXlBbDU2V3BBNkhNMEduNXhxOUVQdzB1YW9lCjZZSkhRcnY2dWdHTGJkcmU5RHUzY2puRlNVc0wzYld4K09ibnh3SURBUUFCQW9JQkFFeG1lbTBMWVNaMnhoa0sKNk41a2pNWjRlWkVzeDZtWjR4MGNqaHRMYnpFMmt4bWxRbU96MFlZU0FWWnNMSHhTcGpwaXNZb0kva0NydTZudAoxeUMyS3c5dGFITFR0TUg3YmlNV0d4RXdZM0JnRnUwU3NVRlo5Tzl2WEZRSmtGYTNZK1RIdjlnZFZrZTBWckF4Ck03S3ByQWpOU3publM3V0NpamRXdndKY0NDVFUvNDlKT0NDOXJUT282RGFzZUt6cXJJcEJhaU9QSmJNZlB3WlQKNm1raEg0ZTBaMm1sT3kzTDllYWhaNGYxMFJ6QkIrWEdrVVpSZWNhZ3hHZlY1OVd4bXYrNnNXNVlmVHJMdDNndQpGM2d5dkVudC9aaVg5allzdm1XWmR6SllDNEpuWERVMk5WbXlaN0cxK21SUUVlaE1rN09BY1hJeHMybk9rdTFzCmdoSEt2b0VDZ1lFQTlRZlNQYUtJN2xtQzZqclp3MjZvMUphZ1g0TGRDdFlNdXpFZi9DMnZYNmdYL2pyMXBuV1AKS0FtcDB1SjFPajZpS0xiOHJWRzhuVXlQb21qTndTcCsvQWNwVjJ5TVZQOTF3K0JISFVkcjA0UmNQWUNGUmpkYwp5d1hzYWwrNGozaExETlF1b0JJMEJTZ1hDM3V2cmtiOFNDRTUrdi9OaldsQThPUW1EQ21STnNFQ2dZRUE1eGM1CmpvVW50ajJiZ0hZR3MrSitlNmpjbEVxOVdWOTFRRlcwNVVhbzg2QVp0UlpqdTQ2ZHFLZkF0eFpGOHB2c3NQMmwKenkrTytRWElOVU56TlNidXBhdzREQlk2TUxSUHlZaWMwRS9wQy9PMk1wS1dBaTAzd3d5TXlzU2hQK2FJWkQ3aQowWmJuZDQ5ZUNhdEpqS0RPM3FoWkVHNWNkVVA1L2tBT1ZmL2RDSWNDZ1lFQThDcVdXMnN3STg4QWptellmTUcrCklZRHgrQ3ZnVkhxeFI5bENySDVxNHF0enVQQTVUc3J6WWg3Mm9ZanR0Z1VtRkJvbldBcEJnVHhGbkw1MHpkekYKVW1vQ2ozb0pvbFl5SzZkc2pMb3dhY1hXVTBIaFg0MXNHbUxYOHZ1WGZxZzloM21CcWN1dHlWQWVKbGM1UHV5OAo0a1lPK29JNEMxOGJGQUhMZVNoVStRRUNnWUVBcTZYRm04WHQvR0NBYTRlL2JNZ1VtUGVSZUJpWDBwV2ordmh1CldFc0czWWNTOFQ1RE1DSTdtdldYb0tiTHArd0hnR08zVUZDTUN3NHZhdGpCN3o0T3owSS9rMExEVUQvdWI4eW8KWmRhbFRMcG1uK1BmeHBnZHJpUlpRNWVRQ20zSzYyTUdpUlZrc3Byc0I1U1NHZ0dzQnhqV3B1ekNnbHZPaWZxOAphMGFVd0dzQ2dZQUUrQ2tvTEZmeG5IQUpBVSs1dkxMOEtMZFgva1gzUUd4cHhFdHdRZ0FQUjd3S25YeWlWMjA3CnVBUXViQzJzL25pMkRxbUhqa0ZMWUw0UkNUY1ZCVVdFbHphYUNvOXdpa1M2RnNMK2lwRWVGbWo5Z2tHT2IwMHkKQ2swNzgvNmh6Y0o0V0wrYkovZ3NKaDJ0T1oyazBySUxiVkkvUG93eDJLbFVkdnR6cDljVXh3PT0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0=\n\n  - path: /root/cert.pem\n    permission: '0644'\n    encoding: base64\n    content: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURWRENDQWp5Z0F3SUJBZ0lVWTZpNjBqTHNtRkRrWWgxUjZ2NTlWbFg5U1pvd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0dURVhNQlVHQTFVRUF3d09OVEl1TVRFMkxqRTVOQzR5TVRJd0hoY05Nakl3TXpFMU1qQTBORE01V2hjTgpNekl3TXpFeU1qQTBORE01V2pBWk1SY3dGUVlEVlFRRERBNDFNaTR4TVRZdU1UazBMakl4TWpDQ0FTSXdEUVlKCktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU1GWCtTdCtLQU1oK2tVMUloK25DTDBVOUFKQ1VNRHMKbEVCNDJ6NmdPYzdWNFVGcUN3QktBSDQxYWg0WFl6c3RzeGxJYWpMMWNrTXJ1Mk1Dc2dSSUNrWkZHR01xOXl4cgo0eW9ON2dCeStjcmkwMm1tbVd6d1BzWG5JV3VrS3lRUUxaOFZKT1I1d21jcWV0ZUI2N041aEt1VWtldThUQm9uCkpqL1JOSno2L250blRiNGRFWlk1Nis3WWxOMEMyc21nT3Vjd0Nka0lRb1FYVzZKY293N2ptRUpiRTdGSGZUWUMKeFdtMlNvMWVhVDBLQmFaRU9HeDRCZGlYeHdxTi9yRE5FZC9JeXcvQkdqelBOdk5kOXk1TWJONy81bnQ0ck13dwpFdlNuaTRnQnlnSGhkRFgvYXJSTkozVy8zTDVxOElmbW8zQW9yWkVVb0VFbjloSEtnYkMrUGEwQ0F3RUFBYU9CCmt6Q0JrREFkQmdOVkhRNEVGZ1FVUlpiS0Fic01mRmwwTENGRHRMVTdIdEZzT2Rzd1ZBWURWUjBqQkUwd1M0QVUKUlpiS0Fic01mRmwwTENGRHRMVTdIdEZzT2R1aEhhUWJNQmt4RnpBVkJnTlZCQU1NRGpVeUxqRXhOaTR4T1RRdQpNakV5Z2hSanFMclNNdXlZVU9SaUhWSHEvbjFXVmYxSm1qQU1CZ05WSFJNRUJUQURBUUgvTUFzR0ExVWREd1FFCkF3SUJCakFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBYWpoMVg1T2h6SHRUb0I4VGxOc0dOY0FBWFRnaU9zc0IKdkthc0tlSlREbk9Wd1ZBZDZYRzdITUhCK0pRY3YxV1hPdlgwcDhsa2NqTW1nZC91a2dTaVAvVnJhQVFUZ25Ybgpldk5NaUcram8rTDdPQ3hOdy9mMGFWWWl1bFcwRFk1YXRmVVlrMmQrK29iUmZBOHl2bHpOM3M5aURXdjZjUzBMCmlGZmczVU1tZU9LeUlNR21PVmZpT0NScWJpZEdER3BoWFhoTW9DVUtnbUUxVEFGcTNWeHFHa2JSeXo4NWZ4SGsKbGZTSGxocmpVU294UWFPNHBkTUd0djJsOXlJT01qR3Z5ejZEVmRrUERHY3NHYW9sSk1WZzVTM3RJeTQreGZNMgo5OHRIMklNdmd6TEdESkhuUjdwYnNrUDVJdWZNc2duY21zMFVjOVA3Y2VLNEpyRmdUQTFteHc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t\n    \n  - path: /root/key.pem\n    permission: '0644'\n    encoding: base64\n    content: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBd1ZmNUszNG9BeUg2UlRVaUg2Y0l2UlQwQWtKUXdPeVVRSGpiUHFBNXp0WGhRV29MCkFFb0FmalZxSGhkak95MnpHVWhxTXZWeVF5dTdZd0t5QkVnS1JrVVlZeXIzTEd2aktnM3VBSEw1eXVMVGFhYVoKYlBBK3hlY2hhNlFySkJBdG54VWs1SG5DWnlwNjE0SHJzM21FcTVTUjY3eE1HaWNtUDlFMG5QcitlMmROdmgwUgpsam5yN3RpVTNRTGF5YUE2NXpBSjJRaENoQmRib2x5akR1T1lRbHNUc1VkOU5nTEZhYlpLalY1cFBRb0Zwa1E0CmJIZ0YySmZIQ28zK3NNMFIzOGpMRDhFYVBNODI4MTMzTGt4czN2L21lM2lzekRBUzlLZUxpQUhLQWVGME5mOXEKdEUwbmRiL2N2bXJ3aCthamNDaXRrUlNnUVNmMkVjcUJzTDQ5clFJREFRQUJBb0lCQUh3cWF6S3JTamI0MHlrdQova01sbWs4VDdjQ2xwZ2EvNkZXZlIrM29LRGZVMDF5WEpZbUIvTjhRbnAzRWwwMmlBNnJ3L29MTGJoNEZMOHBlCktNVG5IdklSM1orU01EcXU3cXhMVmRXa0FSZHlwQ0x0Z3dxYkh6VXBRaVZHd1EzZjlleDhQNzBiRk9YOE9mZTgKMEFucXVIRVljTDNicDJRRVVHUWJqcFpoK3B4MGxDZEhuNm1ieVo4RUYyUVJCcFNmczA0M3JBRXBPVEtnQ245egorMzJiMk5wZFFxWjlReE9iSVFNU3ZNZjhBcDUrS3lQRFBNRjFZMzFtTnR5YU42MmNCQ09GSnQ4MVk4aG9aRHFNClJtSStoVUpnQ2JLWEpEanNJRzdDZko5N0Z6ZWJ1RVJpaThsVGNXcFJtMWRGNndxK1RjOFJKcWJHWFFZbGVjeHQKK08rRXVHRUNnWUVBOWE1L3JQczcvR3E5eDZlem9IeFNxbEsrS2doY1RiZWFJeE5qRUdMMEZXaG5yRWREUEhIOQpiNFhMKzQ5S1RWNWNicVo0aXR5U0VWbmlMZzNadWlsK2x6OS9HTVF0VlJvODV6UVdSNi83a2ZUOGUwb2YrL1RsCmIxR3BiVTNvVEFJMmxNRm0wNkxvckt6WWZORTNCN1U0U2xKYkdRK2pXM3RMZDhzTTgrTUJWVHNDZ1lFQXlYYkEKUFcwN0NHbXlQYldHb3FTb2RrUjZlVHdoTmw1MklsTHdFUHV4ZXFPREJJT3BNMkVDUGVsd2orL2RjcW41ZlV1RgpOeGhnV25naFFaT2tDYk1nYjZHOVpURDdwQTlHM0VKZDZ0NFk4cWViNU95SlFya2V5ZEV6ckE4SmlpV3pvZVpsCkFtL1luVC9vWExXc2tuS1J5QWRIb2hVTDFwUlBiYXYwWEczWDZqY0NnWUFQU0p5K3VSNWhOSTY3MWUzeHhPb3IKbUZ3bUowRCt3TFpCQ2xxMlVVR1g5MWZEdXVjdTRuUit0SmNjL2l3RUppT2Y2cEZES2plWUJyeHdXd0k1ZDQxZApnV0M1dkxLSlFjbWFKSDVpVlV0VUtDWncwUXF1Vk96VkFRS0dQenQ5UndINFBSUFZoS1B1NGczUnJmNDdaNFdwCjhmZWkxbnMySExSMExsaU83NGRNc3dLQmdRQ3Y0bnp6SStubDdtRXVmc3lNTWpUaEMrZmc4QjRPMldsSmpoOEkKdExTOTNRTUZiZXpLYm1jR3BrY2ZZc3B5MFBKLzhPN2NxdXQwRUd6NFUyMWpDbi9HOWUzajZsL0hXNDhCdk85QgpuYVVxTkNwbU1odWpwUHE4TjJobFRydUZZR1R6YzdHNzd1bXVYNXo5VTU3V1BEQUo4bEVYc0VnbGpsWEo2ZFhzCjIva2xBUUtCZ0ZhTjJTR2NnZEtaQ3BxcHBOd2NhbVdOMWhLM1FuSXdrQ2dQRndtbGFTZG9haEdwWmI3UEFuaFEKU1EvZ2NmUlVrNkJOOFY1bStVRjFLQTJqSHZOMDlrZUk0VTBPZ09OMEtrTTIzZjZCTUhLdkNFNU9mLzJ3U29PWgpKSUpPeE5ZeEZROHhqY01UQzFjZklZakNuRnhuSVZpdnhick5iQkkycXM1eEtnTmJGZzVCCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0t\n\n  - path: /root/roles.yaml\n    permission: '0644'\n    content: |\n      # Example role\n      # Add any additional ones to the end\n      kind: \"role\"\n      version: \"v3\"\n      metadata:\n        name: \"teleport-admin\"\n      spec:\n        options:\n          max_connections: 3\n          cert_format: standard\n          client_idle_timeout: 15m\n          disconnect_expired_cert: no\n          enhanced_recording:\n          - command\n          - network\n          forward_agent: true\n          max_session_ttl: 1h\n          port_forwarding: false\n        allow:\n          logins: [root]\n          node_labels:\n            \"*\": \"*\"\n          rules:\n          - resources: [\"*\"]\n            verbs: [\"*\"]\n      ---\n   \n  - path: /root/oidc.yaml\n    permission: '0644'\n    content: |\n      #oidc connector\n      kind: oidc\n      version: v2\n      metadata:\n        name: appid\n      spec:\n        redirect_url: \"https://g5g55g5g-teleport-vsi.bastion-v9:3080/v1/webapi/oidc/callback\"\n        client_id: \"38fd7239-35be-424f-b90d-c0dbc10c620e\"\n        display: AppID\n        client_secret: \"OGZhNjk5NDUtMmE1Ni00ODU1LWE0OTAtMDc5OWI0OWMyZWEx\"\n        issuer_url: \"https://us-south.appid.cloud.ibm.com/oauth/v4/e5eb7139-318e-4948-8873-f7aa48047c20\"\n        scope: [\"openid\", \"email\"]\n        claims_to_roles: \n          - {claim: \"email\", value: \"daroush.renoit@ibm.com\", roles: [\"teleport-admin\"]}\n\n  - path: /etc/teleport.yaml\n    permission: '0644'\n    content: |\n      #teleport.yaml\n      teleport:\n        nodename: g5g55g5g-teleport-vsi.bastion-v9\n        data_dir: /var/lib/teleport\n        log:\n          output: stderr\n          severity: DEBUG \n        storage:\n          audit_sessions_uri: \"s3://dr-bucket-test1?endpoint=s3.private.us-south.cloud-object-storage.appdomain.cloud\u0026region=ibm\"\n\n      auth_service:\n        enabled: \"yes\"\n        listen_addr: 0.0.0.0:3025\n        authentication:\n          type: oidc\n          local_auth: false\n        license_file: /var/lib/teleport/license.pem\n        message_of_the_day: \n\n      ssh_service:\n        enabled: \"yes\"\n        commands:\n        - name: hostname\n          command: [hostname]\n          period: 1m0s\n        - name: arch\n          command: [uname, -p]\n          period: 1h0m0s\n\n      proxy_service:\n        enabled: \"yes\"\n        listen_addr: 0.0.0.0:3023\n        web_listen_addr: 0.0.0.0:3080\n        tunnel_listen_addr: 0.0.0.0:3024\n        https_cert_file: /var/lib/teleport/cert.pem\n        https_key_file: /var/lib/teleport/key.pem\n\n  - path: /etc/systemd/system/teleport.service\n    permissions: '0644'\n    content: |\n      [Unit]\n      Description=Teleport Service\n      After=network.target\n\n      [Service]\n      Type=simple\n      Restart=on-failure\n      Environment=AWS_ACCESS_KEY_ID=\"b3853eee0b7341c28a69c1018a35e3f2\"\n      Environment=AWS_SECRET_ACCESS_KEY=\"2a9ea1bf8598dc476e7133542f8002a93a3286ab0d5c3aae\"\n      ExecStart=/usr/local/bin/teleport start --config=/etc/teleport.yaml --pid-file=/run/teleport.pid\n      ExecReload=/bin/kill -HUP $MAINPID\n      PIDFile=/run/teleport.pid\n\n      [Install]\n      WantedBy=multi-user.target\n\n  - path: /root/install.sh\n    permissions: '0755'\n    content: |\n      #!/bin/bash\n      set -x\n      setup_path=\"/root\"\n      teleport_file=\"teleport-ent-v7.1.3-linux-amd64-bin.tar.gz\"\n      teleport_url=\"https://get.gravitational.com/$teleport_file\"\n\n      #retrieve and extract teleport\n      cd $setup_path\n      curl --connect-timeout 30 --retry 15 --retry-delay 10 $teleport_url --output $teleport_file\n      tar -xvzf $teleport_file\n\n      #Copy files over\n      cp $setup_path/teleport-ent/teleport /usr/local/bin/\n      cp $setup_path/teleport-ent/tctl /usr/local/bin/\n      cp $setup_path/teleport-ent/tsh /usr/local/bin/\n\n      #Make the /var/lib/teleport directory\n      TELEPORT_CONFIG_PATH=\"/var/lib/teleport\"\n      mkdir $TELEPORT_CONFIG_PATH\n\n      #copy files for /root to /var/lib/\n      cp $setup_path/license.pem $TELEPORT_CONFIG_PATH\n      cp $setup_path/cert.pem $TELEPORT_CONFIG_PATH\n      cp $setup_path/key.pem $TELEPORT_CONFIG_PATH\n\n      sudo systemctl daemon-reload\n      sudo systemctl start teleport\n      sudo systemctl enable teleport\n\n      # allow ports for firewall \n      # check if firewalld is used\n      firewall-cmd -h \n      rc=$?\n      if [[ $rc -eq 0 ]]; then\n         systemctl stop firewalld\n         sudo firewall-offline-cmd --zone=public --add-port=3023/tcp\n         #sudo firewall-cmd --permanent --zone=public --add-port=3023/tcp\n         sudo firewall-offline-cmd --zone=public --add-port=3080/tcp\n         #sudo firewall-cmd --permanent --zone=public --add-port=3080/tcp\n         systemctl start firewalld\n      fi\n\n      # check if firewalld is used\n      ufw version\n      rc=$?\n      if [[ $rc -eq 0 ]]; then\n         ufw allow 3023,3080/tcp\n      fi\n\n      #distro=$(awk '/DISTRIB_ID=/' /etc/*-release | sed 's/DISTRIB_ID=//' | tr '[:upper:]' '[:lower:]')\n      #echo $distro\n      #if [[ $distro == \"ubuntu\" ]]; then\n      #    ufw allow 3023,3080/tcp\n      #fi\n\n      sleep 120\n      ## Apply the oidc and role configuration\n      tctl create $setup_path/roles.yaml\n      tctl create $setup_path/oidc.yaml\n\nruncmd:\n   - /root/install.sh\r\n--MIMEBOUNDARY--\r\n"
          },
          "sensitive_attributes": [
            [
              {
                "type": "get_attr",
                "value": "part"
              },
              {
                "type": "index",
                "value": {
                  "value": 0,
                  "type": "number"
                }
              },
              {
                "type": "get_attr",
                "value": "content"
              }
            ]
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "ibm_cos_bucket",
      "name": "cos_bucket",
      "provider": "provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "activity_tracking": [],
            "allowed_ip": null,
            "archive_rule": [],
            "bucket_name": "dr-bucket-test1",
            "crn": "crn:v1:bluemix:public:cloud-object-storage:global:a/cdefe6d99f7ea459aacb25775fb88a33:b80251f6-8966-44d5-828a-d2e76fdc2585:bucket:dr-bucket-test1",
            "cross_region_location": null,
            "endpoint_type": "public",
            "expire_rule": [],
            "force_delete": true,
            "hard_quota": null,
            "id": "crn:v1:bluemix:public:cloud-object-storage:global:a/cdefe6d99f7ea459aacb25775fb88a33:b80251f6-8966-44d5-828a-d2e76fdc2585:bucket:dr-bucket-test1:meta:rl:us-south:public",
            "key_protect": null,
            "metrics_monitoring": [],
            "object_versioning": [],
            "region_location": "us-south",
            "resource_instance_id": "crn:v1:bluemix:public:cloud-object-storage:global:a/cdefe6d99f7ea459aacb25775fb88a33:b80251f6-8966-44d5-828a-d2e76fdc2585::",
            "retention_rule": [
              {
                "default": 360,
                "maximum": 360,
                "minimum": 360,
                "permanent": false
              }
            ],
            "s3_endpoint_private": "s3.private.us-south.cloud-object-storage.appdomain.cloud",
            "s3_endpoint_public": "s3.us-south.cloud-object-storage.appdomain.cloud",
            "single_site_location": null,
            "storage_class": "standard",
            "timeouts": null
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozNjAwMDAwMDAwMDAwLCJkZWxldGUiOjYwMDAwMDAwMDAwMCwidXBkYXRlIjoxMjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "ibm_resource_instance.cos"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "ibm_is_instance",
      "name": "teleport_vsi",
      "provider": "provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "index_key": "bastion-subnet",
          "schema_version": 0,
          "attributes": {
            "auto_delete_volume": null,
            "boot_volume": [
              {
                "encryption": "",
                "iops": 3000,
                "name": "violist-purr-valise-regress",
                "profile": "general-purpose",
                "size": 100,
                "snapshot": ""
              }
            ],
            "dedicated_host": null,
            "dedicated_host_group": null,
            "disks": [],
            "force_recovery_time": null,
            "gpu": [],
            "id": "0727_da09a839-91ea-4f9e-bc62-9050ab5d5299",
            "image": "r006-d4e7b7ee-840c-4b8c-9a89-4cb48e8891b4",
            "instance_template": null,
            "keys": [
              "r006-2f4949c6-60c0-41da-8be4-93aa038c6989",
              "r006-69304857-5cd8-44f3-9e8d-6d1b6fc40927"
            ],
            "memory": 32,
            "name": "g5g55g5g-teleport-vsi-1",
            "network_interfaces": [],
            "placement_group": null,
            "placement_target": [],
            "primary_network_interface": [
              {
                "allow_ip_spoofing": false,
                "id": "0727-dcfd7041-8fd2-4834-9d53-3aa3fc161e7d",
                "name": "landside-ocelot-detector-startling",
                "port_speed": 0,
                "primary_ipv4_address": "10.240.64.8",
                "security_groups": [
                  "r006-766f43f6-6293-4b42-ba21-599dc99f8963"
                ],
                "subnet": "0727-65791ece-db97-4c52-8261-0f24213f3654"
              }
            ],
            "profile": "bx2-8x32",
            "resource_controller_url": "https://cloud.ibm.com/vpc-ext/compute/vs",
            "resource_crn": "crn:v1:bluemix:public:is:us-south-2:a/cdefe6d99f7ea459aacb25775fb88a33::instance:0727_da09a839-91ea-4f9e-bc62-9050ab5d5299",
            "resource_group": "271bbee55baf463e81cec7de47d4b219",
            "resource_group_name": "default",
            "resource_name": "g5g55g5g-teleport-vsi-1",
            "resource_status": "running",
            "status": "running",
            "status_reasons": [],
            "tags": [],
            "timeouts": {
              "create": "15m",
              "delete": "15m",
              "update": "15m"
            },
            "user_data": "Content-Type: multipart/mixed; boundary=\"MIMEBOUNDARY\"\nMIME-Version: 1.0\r\n\r\n--MIMEBOUNDARY\r\nContent-Transfer-Encoding: 7bit\r\nContent-Type: text/plain\r\nMime-Version: 1.0\r\n\r\n#cloud-config\npackages:\n  - tar\nwrite_files:\n  - path: /root/license.pem\n    permissions: '0644'\n    encoding: base64\n    content: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUVkVENDQTEyZ0F3SUJBZ0lVUjNvdVlIWmNVOFFMR1MzM1BiSmRwcDJhRGVNd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0pqRWtNQ0lHQTFVRUF4TWJaR0Z6YUdKdllYSmtMbWR5WVhacGRHRjBhVzl1WVd3dVkyOXRNQ0FYRFRFNQpNVEl3TXpBME5UUTFNRm9ZRHpJeE1Ua3hNVEE1TURVMU5EVXdXakF0TVJrd0Z3WURWUVFLRXhCbmNtRjJhWFJoCmRHbHZibUZzTG1sdk1SQXdEZ1lEVlFRREV3ZHNhV05sYm5ObE1JSUJJakFOQmdrcWhraUc5dzBCQVFFRkFBT0MKQVE4QU1JSUJDZ0tDQVFFQTNUQkpnS2pNazVwb01zUU02Q3BnWFJCZFMyeFFvd3dCd0x2eUJUMzlYR3pYTUVnbQp1NHlwczB3dWRqMlRkbTJ6NXhYbmp2Qi9ySVIwTHh0N040ZTNPOTBJQ3hXaEY0OEFyRTR4RE5SWDVzeGp0bXQ3CjBtUytPMVIyc1EwY2ZZYWp1NEpYcElCbjZ3cE9qc2tBNUZIb05oM3NlTU0xemo1YXNqZUNFNDIzdnUwUk1uNnoKWmp6SVM5N1pENjBKZlRwMjhrSk1KZXJzMks3N2ZPbTRWZlBqRDhqVmpPakJYNWtTY3lRekJYM1dJZEV2UVdFawozQkd5cWJqVUFSakhJZnNpL1BFRGlGRGgwUXpFaEZVR1RlMTdJZXlBbDU2V3BBNkhNMEduNXhxOUVQdzB1YW9lCjZZSkhRcnY2dWdHTGJkcmU5RHUzY2puRlNVc0wzYld4K09ibnh3SURBUUFCbzRJQmtEQ0NBWXd3RGdZRFZSMFAKQVFIL0JBUURBZ1dnTUIwR0ExVWRKUVFXTUJRR0NDc0dBUVVGQndNQkJnZ3JCZ0VGQlFjREFqQU1CZ05WSFJNQgpBZjhFQWpBQU1CMEdBMVVkRGdRV0JCUm9TVXVnQXpjTXdHdU5uTUVML1lJK3V5SU1IakFmQmdOVkhTTUVHREFXCmdCUThPTU5UL0xLN3U3TE9QYno4OHZxTTBzM2tGVEFQQmdOVkhSRUVDREFHaHdSL0FBQUJNSUg3QmdKVktnU0IKOUhzaWEybHVaQ0k2SW14cFkyVnVjMlVpTENKMlpYSnphVzl1SWpvaWRqTWlMQ0p0WlhSaFpHRjBZU0k2ZXlKdQpZVzFsSWpvaVlqVTFNekpoTlRZdFl6UmlaQzAwT0RRNUxUazRNbVV0T0dNM09Ea3pOR0UyWkRNMklpd2liR0ZpClpXeHpJanA3SWtWdFlXbHNJam9pYzNSdGRYSmhhMkZBZFhNdWFXSnRMbU52YlNKOUxDSmxlSEJwY21Weklqb2kKTWpFeE9TMHhNUzB3T1ZRd05UbzFORG8xTUM0ek9EWTBNVFl3T0ROYUluMHNJbk53WldNaU9uc2lZV05qYjNWdQpkRjlwWkNJNkltTjFjMTlGYW1WWGJrcFBlRWh2YW5WMFJ5SXNJbXM0Y3lJNmRISjFaU3dpZFhOaFoyVWlPbVpoCmJITmxmWDB3RFFZSktvWklodmNOQVFFTEJRQURnZ0VCQU56cWpnbUxzYzBFcmpWSHpYdzlVTmZmdU9mR243aFYKMXlXTENaY3d0czJCUllmU1BMbnZlL3ZVN254WUVlWXJQN1JnRk1YSkU4aU95NlVoYmFaWDJZR0JrK3RLdVdaeApKMDV2K2F4NkNlQm54MnZUNjZNREZNK0JTUWQvb2p1bElncUJheDc5Nit1RXRyOXR2OGs5SEUxR21tOURiRGxSCnVvSGZ5UENFWnMwaTFHSDVBbmZhOWxSVDFhR3lvbWxISTZzeWxnQWRSZE1ZN1FsaU9Wd3l2c2VFK29CU3NiSDkKOUpFaURoNDNlSHpMVnVwSjBIMzUvZnBzVzVNRS9rd0poVU5KbXJ4c2Q0N201VWU2U0dIcVRHUlhFbUxPSlpPYgpFRVk0RDB0WGlqYnFObTd3Wi9Mb2xxUGlUdDBEc29sblRvK3lNT25jNjZEQUI5cjhiYjEzWFhZPQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCi0tLS0tQkVHSU4gUlNBIFBSSVZBVEUgS0VZLS0tLS0KTUlJRXBBSUJBQUtDQVFFQTNUQkpnS2pNazVwb01zUU02Q3BnWFJCZFMyeFFvd3dCd0x2eUJUMzlYR3pYTUVnbQp1NHlwczB3dWRqMlRkbTJ6NXhYbmp2Qi9ySVIwTHh0N040ZTNPOTBJQ3hXaEY0OEFyRTR4RE5SWDVzeGp0bXQ3CjBtUytPMVIyc1EwY2ZZYWp1NEpYcElCbjZ3cE9qc2tBNUZIb05oM3NlTU0xemo1YXNqZUNFNDIzdnUwUk1uNnoKWmp6SVM5N1pENjBKZlRwMjhrSk1KZXJzMks3N2ZPbTRWZlBqRDhqVmpPakJYNWtTY3lRekJYM1dJZEV2UVdFawozQkd5cWJqVUFSakhJZnNpL1BFRGlGRGgwUXpFaEZVR1RlMTdJZXlBbDU2V3BBNkhNMEduNXhxOUVQdzB1YW9lCjZZSkhRcnY2dWdHTGJkcmU5RHUzY2puRlNVc0wzYld4K09ibnh3SURBUUFCQW9JQkFFeG1lbTBMWVNaMnhoa0sKNk41a2pNWjRlWkVzeDZtWjR4MGNqaHRMYnpFMmt4bWxRbU96MFlZU0FWWnNMSHhTcGpwaXNZb0kva0NydTZudAoxeUMyS3c5dGFITFR0TUg3YmlNV0d4RXdZM0JnRnUwU3NVRlo5Tzl2WEZRSmtGYTNZK1RIdjlnZFZrZTBWckF4Ck03S3ByQWpOU3publM3V0NpamRXdndKY0NDVFUvNDlKT0NDOXJUT282RGFzZUt6cXJJcEJhaU9QSmJNZlB3WlQKNm1raEg0ZTBaMm1sT3kzTDllYWhaNGYxMFJ6QkIrWEdrVVpSZWNhZ3hHZlY1OVd4bXYrNnNXNVlmVHJMdDNndQpGM2d5dkVudC9aaVg5allzdm1XWmR6SllDNEpuWERVMk5WbXlaN0cxK21SUUVlaE1rN09BY1hJeHMybk9rdTFzCmdoSEt2b0VDZ1lFQTlRZlNQYUtJN2xtQzZqclp3MjZvMUphZ1g0TGRDdFlNdXpFZi9DMnZYNmdYL2pyMXBuV1AKS0FtcDB1SjFPajZpS0xiOHJWRzhuVXlQb21qTndTcCsvQWNwVjJ5TVZQOTF3K0JISFVkcjA0UmNQWUNGUmpkYwp5d1hzYWwrNGozaExETlF1b0JJMEJTZ1hDM3V2cmtiOFNDRTUrdi9OaldsQThPUW1EQ21STnNFQ2dZRUE1eGM1CmpvVW50ajJiZ0hZR3MrSitlNmpjbEVxOVdWOTFRRlcwNVVhbzg2QVp0UlpqdTQ2ZHFLZkF0eFpGOHB2c3NQMmwKenkrTytRWElOVU56TlNidXBhdzREQlk2TUxSUHlZaWMwRS9wQy9PMk1wS1dBaTAzd3d5TXlzU2hQK2FJWkQ3aQowWmJuZDQ5ZUNhdEpqS0RPM3FoWkVHNWNkVVA1L2tBT1ZmL2RDSWNDZ1lFQThDcVdXMnN3STg4QWptellmTUcrCklZRHgrQ3ZnVkhxeFI5bENySDVxNHF0enVQQTVUc3J6WWg3Mm9ZanR0Z1VtRkJvbldBcEJnVHhGbkw1MHpkekYKVW1vQ2ozb0pvbFl5SzZkc2pMb3dhY1hXVTBIaFg0MXNHbUxYOHZ1WGZxZzloM21CcWN1dHlWQWVKbGM1UHV5OAo0a1lPK29JNEMxOGJGQUhMZVNoVStRRUNnWUVBcTZYRm04WHQvR0NBYTRlL2JNZ1VtUGVSZUJpWDBwV2ordmh1CldFc0czWWNTOFQ1RE1DSTdtdldYb0tiTHArd0hnR08zVUZDTUN3NHZhdGpCN3o0T3owSS9rMExEVUQvdWI4eW8KWmRhbFRMcG1uK1BmeHBnZHJpUlpRNWVRQ20zSzYyTUdpUlZrc3Byc0I1U1NHZ0dzQnhqV3B1ekNnbHZPaWZxOAphMGFVd0dzQ2dZQUUrQ2tvTEZmeG5IQUpBVSs1dkxMOEtMZFgva1gzUUd4cHhFdHdRZ0FQUjd3S25YeWlWMjA3CnVBUXViQzJzL25pMkRxbUhqa0ZMWUw0UkNUY1ZCVVdFbHphYUNvOXdpa1M2RnNMK2lwRWVGbWo5Z2tHT2IwMHkKQ2swNzgvNmh6Y0o0V0wrYkovZ3NKaDJ0T1oyazBySUxiVkkvUG93eDJLbFVkdnR6cDljVXh3PT0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0=\n\n  - path: /root/cert.pem\n    permission: '0644'\n    encoding: base64\n    content: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURWRENDQWp5Z0F3SUJBZ0lVWTZpNjBqTHNtRkRrWWgxUjZ2NTlWbFg5U1pvd0RRWUpLb1pJaHZjTkFRRUwKQlFBd0dURVhNQlVHQTFVRUF3d09OVEl1TVRFMkxqRTVOQzR5TVRJd0hoY05Nakl3TXpFMU1qQTBORE01V2hjTgpNekl3TXpFeU1qQTBORE01V2pBWk1SY3dGUVlEVlFRRERBNDFNaTR4TVRZdU1UazBMakl4TWpDQ0FTSXdEUVlKCktvWklodmNOQVFFQkJRQURnZ0VQQURDQ0FRb0NnZ0VCQU1GWCtTdCtLQU1oK2tVMUloK25DTDBVOUFKQ1VNRHMKbEVCNDJ6NmdPYzdWNFVGcUN3QktBSDQxYWg0WFl6c3RzeGxJYWpMMWNrTXJ1Mk1Dc2dSSUNrWkZHR01xOXl4cgo0eW9ON2dCeStjcmkwMm1tbVd6d1BzWG5JV3VrS3lRUUxaOFZKT1I1d21jcWV0ZUI2N041aEt1VWtldThUQm9uCkpqL1JOSno2L250blRiNGRFWlk1Nis3WWxOMEMyc21nT3Vjd0Nka0lRb1FYVzZKY293N2ptRUpiRTdGSGZUWUMKeFdtMlNvMWVhVDBLQmFaRU9HeDRCZGlYeHdxTi9yRE5FZC9JeXcvQkdqelBOdk5kOXk1TWJONy81bnQ0ck13dwpFdlNuaTRnQnlnSGhkRFgvYXJSTkozVy8zTDVxOElmbW8zQW9yWkVVb0VFbjloSEtnYkMrUGEwQ0F3RUFBYU9CCmt6Q0JrREFkQmdOVkhRNEVGZ1FVUlpiS0Fic01mRmwwTENGRHRMVTdIdEZzT2Rzd1ZBWURWUjBqQkUwd1M0QVUKUlpiS0Fic01mRmwwTENGRHRMVTdIdEZzT2R1aEhhUWJNQmt4RnpBVkJnTlZCQU1NRGpVeUxqRXhOaTR4T1RRdQpNakV5Z2hSanFMclNNdXlZVU9SaUhWSHEvbjFXVmYxSm1qQU1CZ05WSFJNRUJUQURBUUgvTUFzR0ExVWREd1FFCkF3SUJCakFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBYWpoMVg1T2h6SHRUb0I4VGxOc0dOY0FBWFRnaU9zc0IKdkthc0tlSlREbk9Wd1ZBZDZYRzdITUhCK0pRY3YxV1hPdlgwcDhsa2NqTW1nZC91a2dTaVAvVnJhQVFUZ25Ybgpldk5NaUcram8rTDdPQ3hOdy9mMGFWWWl1bFcwRFk1YXRmVVlrMmQrK29iUmZBOHl2bHpOM3M5aURXdjZjUzBMCmlGZmczVU1tZU9LeUlNR21PVmZpT0NScWJpZEdER3BoWFhoTW9DVUtnbUUxVEFGcTNWeHFHa2JSeXo4NWZ4SGsKbGZTSGxocmpVU294UWFPNHBkTUd0djJsOXlJT01qR3Z5ejZEVmRrUERHY3NHYW9sSk1WZzVTM3RJeTQreGZNMgo5OHRIMklNdmd6TEdESkhuUjdwYnNrUDVJdWZNc2duY21zMFVjOVA3Y2VLNEpyRmdUQTFteHc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0t\n    \n  - path: /root/key.pem\n    permission: '0644'\n    encoding: base64\n    content: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlFb3dJQkFBS0NBUUVBd1ZmNUszNG9BeUg2UlRVaUg2Y0l2UlQwQWtKUXdPeVVRSGpiUHFBNXp0WGhRV29MCkFFb0FmalZxSGhkak95MnpHVWhxTXZWeVF5dTdZd0t5QkVnS1JrVVlZeXIzTEd2aktnM3VBSEw1eXVMVGFhYVoKYlBBK3hlY2hhNlFySkJBdG54VWs1SG5DWnlwNjE0SHJzM21FcTVTUjY3eE1HaWNtUDlFMG5QcitlMmROdmgwUgpsam5yN3RpVTNRTGF5YUE2NXpBSjJRaENoQmRib2x5akR1T1lRbHNUc1VkOU5nTEZhYlpLalY1cFBRb0Zwa1E0CmJIZ0YySmZIQ28zK3NNMFIzOGpMRDhFYVBNODI4MTMzTGt4czN2L21lM2lzekRBUzlLZUxpQUhLQWVGME5mOXEKdEUwbmRiL2N2bXJ3aCthamNDaXRrUlNnUVNmMkVjcUJzTDQ5clFJREFRQUJBb0lCQUh3cWF6S3JTamI0MHlrdQova01sbWs4VDdjQ2xwZ2EvNkZXZlIrM29LRGZVMDF5WEpZbUIvTjhRbnAzRWwwMmlBNnJ3L29MTGJoNEZMOHBlCktNVG5IdklSM1orU01EcXU3cXhMVmRXa0FSZHlwQ0x0Z3dxYkh6VXBRaVZHd1EzZjlleDhQNzBiRk9YOE9mZTgKMEFucXVIRVljTDNicDJRRVVHUWJqcFpoK3B4MGxDZEhuNm1ieVo4RUYyUVJCcFNmczA0M3JBRXBPVEtnQ245egorMzJiMk5wZFFxWjlReE9iSVFNU3ZNZjhBcDUrS3lQRFBNRjFZMzFtTnR5YU42MmNCQ09GSnQ4MVk4aG9aRHFNClJtSStoVUpnQ2JLWEpEanNJRzdDZko5N0Z6ZWJ1RVJpaThsVGNXcFJtMWRGNndxK1RjOFJKcWJHWFFZbGVjeHQKK08rRXVHRUNnWUVBOWE1L3JQczcvR3E5eDZlem9IeFNxbEsrS2doY1RiZWFJeE5qRUdMMEZXaG5yRWREUEhIOQpiNFhMKzQ5S1RWNWNicVo0aXR5U0VWbmlMZzNadWlsK2x6OS9HTVF0VlJvODV6UVdSNi83a2ZUOGUwb2YrL1RsCmIxR3BiVTNvVEFJMmxNRm0wNkxvckt6WWZORTNCN1U0U2xKYkdRK2pXM3RMZDhzTTgrTUJWVHNDZ1lFQXlYYkEKUFcwN0NHbXlQYldHb3FTb2RrUjZlVHdoTmw1MklsTHdFUHV4ZXFPREJJT3BNMkVDUGVsd2orL2RjcW41ZlV1RgpOeGhnV25naFFaT2tDYk1nYjZHOVpURDdwQTlHM0VKZDZ0NFk4cWViNU95SlFya2V5ZEV6ckE4SmlpV3pvZVpsCkFtL1luVC9vWExXc2tuS1J5QWRIb2hVTDFwUlBiYXYwWEczWDZqY0NnWUFQU0p5K3VSNWhOSTY3MWUzeHhPb3IKbUZ3bUowRCt3TFpCQ2xxMlVVR1g5MWZEdXVjdTRuUit0SmNjL2l3RUppT2Y2cEZES2plWUJyeHdXd0k1ZDQxZApnV0M1dkxLSlFjbWFKSDVpVlV0VUtDWncwUXF1Vk96VkFRS0dQenQ5UndINFBSUFZoS1B1NGczUnJmNDdaNFdwCjhmZWkxbnMySExSMExsaU83NGRNc3dLQmdRQ3Y0bnp6SStubDdtRXVmc3lNTWpUaEMrZmc4QjRPMldsSmpoOEkKdExTOTNRTUZiZXpLYm1jR3BrY2ZZc3B5MFBKLzhPN2NxdXQwRUd6NFUyMWpDbi9HOWUzajZsL0hXNDhCdk85QgpuYVVxTkNwbU1odWpwUHE4TjJobFRydUZZR1R6YzdHNzd1bXVYNXo5VTU3V1BEQUo4bEVYc0VnbGpsWEo2ZFhzCjIva2xBUUtCZ0ZhTjJTR2NnZEtaQ3BxcHBOd2NhbVdOMWhLM1FuSXdrQ2dQRndtbGFTZG9haEdwWmI3UEFuaFEKU1EvZ2NmUlVrNkJOOFY1bStVRjFLQTJqSHZOMDlrZUk0VTBPZ09OMEtrTTIzZjZCTUhLdkNFNU9mLzJ3U29PWgpKSUpPeE5ZeEZROHhqY01UQzFjZklZakNuRnhuSVZpdnhick5iQkkycXM1eEtnTmJGZzVCCi0tLS0tRU5EIFJTQSBQUklWQVRFIEtFWS0tLS0t\n\n  - path: /root/roles.yaml\n    permission: '0644'\n    content: |\n      # Example role\n      # Add any additional ones to the end\n      kind: \"role\"\n      version: \"v3\"\n      metadata:\n        name: \"teleport-admin\"\n      spec:\n        options:\n          max_connections: 3\n          cert_format: standard\n          client_idle_timeout: 15m\n          disconnect_expired_cert: no\n          enhanced_recording:\n          - command\n          - network\n          forward_agent: true\n          max_session_ttl: 1h\n          port_forwarding: false\n        allow:\n          logins: [root]\n          node_labels:\n            \"*\": \"*\"\n          rules:\n          - resources: [\"*\"]\n            verbs: [\"*\"]\n      ---\n   \n  - path: /root/oidc.yaml\n    permission: '0644'\n    content: |\n      #oidc connector\n      kind: oidc\n      version: v2\n      metadata:\n        name: appid\n      spec:\n        redirect_url: \"https://g5g55g5g-teleport-vsi.bastion-v9:3080/v1/webapi/oidc/callback\"\n        client_id: \"38fd7239-35be-424f-b90d-c0dbc10c620e\"\n        display: AppID\n        client_secret: \"OGZhNjk5NDUtMmE1Ni00ODU1LWE0OTAtMDc5OWI0OWMyZWEx\"\n        issuer_url: \"https://us-south.appid.cloud.ibm.com/oauth/v4/e5eb7139-318e-4948-8873-f7aa48047c20\"\n        scope: [\"openid\", \"email\"]\n        claims_to_roles: \n          - {claim: \"email\", value: \"daroush.renoit@ibm.com\", roles: [\"teleport-admin\"]}\n\n  - path: /etc/teleport.yaml\n    permission: '0644'\n    content: |\n      #teleport.yaml\n      teleport:\n        nodename: g5g55g5g-teleport-vsi.bastion-v9\n        data_dir: /var/lib/teleport\n        log:\n          output: stderr\n          severity: DEBUG \n        storage:\n          audit_sessions_uri: \"s3://dr-bucket-test1?endpoint=s3.private.us-south.cloud-object-storage.appdomain.cloud\u0026region=ibm\"\n\n      auth_service:\n        enabled: \"yes\"\n        listen_addr: 0.0.0.0:3025\n        authentication:\n          type: oidc\n          local_auth: false\n        license_file: /var/lib/teleport/license.pem\n        message_of_the_day: \n\n      ssh_service:\n        enabled: \"yes\"\n        commands:\n        - name: hostname\n          command: [hostname]\n          period: 1m0s\n        - name: arch\n          command: [uname, -p]\n          period: 1h0m0s\n\n      proxy_service:\n        enabled: \"yes\"\n        listen_addr: 0.0.0.0:3023\n        web_listen_addr: 0.0.0.0:3080\n        tunnel_listen_addr: 0.0.0.0:3024\n        https_cert_file: /var/lib/teleport/cert.pem\n        https_key_file: /var/lib/teleport/key.pem\n\n  - path: /etc/systemd/system/teleport.service\n    permissions: '0644'\n    content: |\n      [Unit]\n      Description=Teleport Service\n      After=network.target\n\n      [Service]\n      Type=simple\n      Restart=on-failure\n      Environment=AWS_ACCESS_KEY_ID=\"b3853eee0b7341c28a69c1018a35e3f2\"\n      Environment=AWS_SECRET_ACCESS_KEY=\"2a9ea1bf8598dc476e7133542f8002a93a3286ab0d5c3aae\"\n      ExecStart=/usr/local/bin/teleport start --config=/etc/teleport.yaml --pid-file=/run/teleport.pid\n      ExecReload=/bin/kill -HUP $MAINPID\n      PIDFile=/run/teleport.pid\n\n      [Install]\n      WantedBy=multi-user.target\n\n  - path: /root/install.sh\n    permissions: '0755'\n    content: |\n      #!/bin/bash\n      set -x\n      setup_path=\"/root\"\n      teleport_file=\"teleport-ent-v7.1.3-linux-amd64-bin.tar.gz\"\n      teleport_url=\"https://get.gravitational.com/$teleport_file\"\n\n      #retrieve and extract teleport\n      cd $setup_path\n      curl --connect-timeout 30 --retry 15 --retry-delay 10 $teleport_url --output $teleport_file\n      tar -xvzf $teleport_file\n\n      #Copy files over\n      cp $setup_path/teleport-ent/teleport /usr/local/bin/\n      cp $setup_path/teleport-ent/tctl /usr/local/bin/\n      cp $setup_path/teleport-ent/tsh /usr/local/bin/\n\n      #Make the /var/lib/teleport directory\n      TELEPORT_CONFIG_PATH=\"/var/lib/teleport\"\n      mkdir $TELEPORT_CONFIG_PATH\n\n      #copy files for /root to /var/lib/\n      cp $setup_path/license.pem $TELEPORT_CONFIG_PATH\n      cp $setup_path/cert.pem $TELEPORT_CONFIG_PATH\n      cp $setup_path/key.pem $TELEPORT_CONFIG_PATH\n\n      sudo systemctl daemon-reload\n      sudo systemctl start teleport\n      sudo systemctl enable teleport\n\n      # allow ports for firewall \n      # check if firewalld is used\n      firewall-cmd -h \n      rc=$?\n      if [[ $rc -eq 0 ]]; then\n         systemctl stop firewalld\n         sudo firewall-offline-cmd --zone=public --add-port=3023/tcp\n         #sudo firewall-cmd --permanent --zone=public --add-port=3023/tcp\n         sudo firewall-offline-cmd --zone=public --add-port=3080/tcp\n         #sudo firewall-cmd --permanent --zone=public --add-port=3080/tcp\n         systemctl start firewalld\n      fi\n\n      # check if firewalld is used\n      ufw version\n      rc=$?\n      if [[ $rc -eq 0 ]]; then\n         ufw allow 3023,3080/tcp\n      fi\n\n      #distro=$(awk '/DISTRIB_ID=/' /etc/*-release | sed 's/DISTRIB_ID=//' | tr '[:upper:]' '[:lower:]')\n      #echo $distro\n      #if [[ $distro == \"ubuntu\" ]]; then\n      #    ufw allow 3023,3080/tcp\n      #fi\n\n      sleep 120\n      ## Apply the oidc and role configuration\n      tctl create $setup_path/roles.yaml\n      tctl create $setup_path/oidc.yaml\n\nruncmd:\n   - /root/install.sh\r\n--MIMEBOUNDARY--\r\n",
            "vcpu": [
              {
                "architecture": "amd64",
                "count": 8
              }
            ],
            "volume_attachments": [
              {
                "id": "0727-508eead7-9255-4630-afaa-71b571374962",
                "name": "goal-entity-chance-silenced",
                "volume_crn": "crn:v1:bluemix:public:is:us-south-2:a/cdefe6d99f7ea459aacb25775fb88a33::volume:r006-f5cd2ec8-333e-4480-b5d2-6e58588c4bfb",
                "volume_id": "r006-f5cd2ec8-333e-4480-b5d2-6e58588c4bfb",
                "volume_name": "violist-purr-valise-regress"
              }
            ],
            "volumes": null,
            "vpc": "r006-c5cb9bce-65d9-4710-8dee-8a3c2e3ac381",
            "wait_before_delete": true,
            "zone": "us-south-2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo5MDAwMDAwMDAwMDAsImRlbGV0ZSI6OTAwMDAwMDAwMDAwLCJ1cGRhdGUiOjkwMDAwMDAwMDAwMH19",
          "dependencies": [
            "data.ibm_is_image.vsi_image",
            "data.ibm_is_security_group.security_group",
            "data.ibm_is_ssh_key.ssh_key",
            "data.ibm_is_subnet.subnet",
            "data.ibm_is_vpc.vpc",
            "data.ibm_resource_group.resource_group",
            "data.ibm_resource_key.appid_resource_key",
            "data.template_cloudinit_config.cloud_init",
            "ibm_cos_bucket.cos_bucket",
            "ibm_is_security_group.teleport_security_group",
            "ibm_resource_instance.cos",
            "ibm_resource_key.cos_resource_key"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "ibm_is_security_group",
      "name": "teleport_security_group",
      "provider": "provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::security-group:r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "id": "r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "name": "g5g55g5g-teleport-security-group",
            "resource_controller_url": "https://cloud.ibm.com/vpc-ext/network/securityGroups",
            "resource_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::security-group:r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "resource_group": "271bbee55baf463e81cec7de47d4b219",
            "resource_group_name": "default",
            "resource_name": "g5g55g5g-teleport-security-group",
            "rules": [
              {
                "code": 0,
                "direction": "outbound",
                "ip_version": "ipv4",
                "port_max": 0,
                "port_min": 0,
                "protocol": "all",
                "remote": "161.26.0.10",
                "type": 0
              },
              {
                "code": 0,
                "direction": "outbound",
                "ip_version": "ipv4",
                "port_max": 0,
                "port_min": 0,
                "protocol": "all",
                "remote": "161.26.0.7",
                "type": 0
              },
              {
                "code": 0,
                "direction": "outbound",
                "ip_version": "ipv4",
                "port_max": 0,
                "port_min": 0,
                "protocol": "all",
                "remote": "161.26.0.11",
                "type": 0
              },
              {
                "code": 0,
                "direction": "outbound",
                "ip_version": "ipv4",
                "port_max": 3080,
                "port_min": 3080,
                "protocol": "tcp",
                "remote": "0.0.0.0/0",
                "type": 0
              },
              {
                "code": 0,
                "direction": "inbound",
                "ip_version": "ipv4",
                "port_max": 3025,
                "port_min": 3023,
                "protocol": "tcp",
                "remote": "0.0.0.0/0",
                "type": 0
              },
              {
                "code": 0,
                "direction": "outbound",
                "ip_version": "ipv4",
                "port_max": 443,
                "port_min": 443,
                "protocol": "tcp",
                "remote": "0.0.0.0/0",
                "type": 0
              },
              {
                "code": 0,
                "direction": "inbound",
                "ip_version": "ipv4",
                "port_max": 22,
                "port_min": 22,
                "protocol": "tcp",
                "remote": "0.0.0.0/0",
                "type": 0
              },
              {
                "code": 0,
                "direction": "outbound",
                "ip_version": "ipv4",
                "port_max": 3025,
                "port_min": 3023,
                "protocol": "tcp",
                "remote": "0.0.0.0/0",
                "type": 0
              },
              {
                "code": 0,
                "direction": "inbound",
                "ip_version": "ipv4",
                "port_max": 3080,
                "port_min": 3080,
                "protocol": "tcp",
                "remote": "0.0.0.0/0",
                "type": 0
              },
              {
                "code": 0,
                "direction": "outbound",
                "ip_version": "ipv4",
                "port_max": 0,
                "port_min": 0,
                "protocol": "all",
                "remote": "161.26.0.8",
                "type": 0
              }
            ],
            "tags": [],
            "vpc": "r006-c5cb9bce-65d9-4710-8dee-8a3c2e3ac381"
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.ibm_is_vpc.vpc"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "ibm_is_security_group_rule",
      "name": "vsi_security_group_rules",
      "provider": "provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "index_key": "allow_dns_1_out",
          "schema_version": 0,
          "attributes": {
            "direction": "outbound",
            "group": "r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "icmp": [],
            "id": "r006-766f43f6-6293-4b42-ba21-599dc99f8963.r006-c4ec98b9-4a40-446e-8e48-f9d5d3173f6d",
            "ip_version": "ipv4",
            "protocol": "all",
            "related_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::security-group:r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "remote": "161.26.0.7",
            "rule_id": "r006-c4ec98b9-4a40-446e-8e48-f9d5d3173f6d",
            "tcp": [],
            "udp": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "ibm_is_security_group.teleport_security_group",
            "data.ibm_is_vpc.vpc"
          ]
        },
        {
          "index_key": "allow_dns_2_out",
          "schema_version": 0,
          "attributes": {
            "direction": "outbound",
            "group": "r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "icmp": [],
            "id": "r006-766f43f6-6293-4b42-ba21-599dc99f8963.r006-f35a578d-3cf4-44a2-8cb4-d7abf2abba42",
            "ip_version": "ipv4",
            "protocol": "all",
            "related_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::security-group:r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "remote": "161.26.0.8",
            "rule_id": "r006-f35a578d-3cf4-44a2-8cb4-d7abf2abba42",
            "tcp": [],
            "udp": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.ibm_is_vpc.vpc",
            "ibm_is_security_group.teleport_security_group"
          ]
        },
        {
          "index_key": "allow_dns_3_out",
          "schema_version": 0,
          "attributes": {
            "direction": "outbound",
            "group": "r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "icmp": [],
            "id": "r006-766f43f6-6293-4b42-ba21-599dc99f8963.r006-533d0ae4-2b25-45c0-b0b9-ea5390a9b32d",
            "ip_version": "ipv4",
            "protocol": "all",
            "related_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::security-group:r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "remote": "161.26.0.10",
            "rule_id": "r006-533d0ae4-2b25-45c0-b0b9-ea5390a9b32d",
            "tcp": [],
            "udp": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.ibm_is_vpc.vpc",
            "ibm_is_security_group.teleport_security_group"
          ]
        },
        {
          "index_key": "allow_dns_4_out",
          "schema_version": 0,
          "attributes": {
            "direction": "outbound",
            "group": "r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "icmp": [],
            "id": "r006-766f43f6-6293-4b42-ba21-599dc99f8963.r006-aa60c3fa-9123-4f23-be31-08360e1611e9",
            "ip_version": "ipv4",
            "protocol": "all",
            "related_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::security-group:r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "remote": "161.26.0.11",
            "rule_id": "r006-aa60c3fa-9123-4f23-be31-08360e1611e9",
            "tcp": [],
            "udp": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.ibm_is_vpc.vpc",
            "ibm_is_security_group.teleport_security_group"
          ]
        },
        {
          "index_key": "allow_tcp_in_22",
          "schema_version": 0,
          "attributes": {
            "direction": "inbound",
            "group": "r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "icmp": [],
            "id": "r006-766f43f6-6293-4b42-ba21-599dc99f8963.r006-2c719927-1560-46df-9790-d2a0873048b4",
            "ip_version": "ipv4",
            "protocol": "tcp",
            "related_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::security-group:r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "remote": "0.0.0.0/0",
            "rule_id": "r006-2c719927-1560-46df-9790-d2a0873048b4",
            "tcp": [
              {
                "port_max": 22,
                "port_min": 22
              }
            ],
            "udp": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.ibm_is_vpc.vpc",
            "ibm_is_security_group.teleport_security_group"
          ]
        },
        {
          "index_key": "allow_tcp_in_3023_3025",
          "schema_version": 0,
          "attributes": {
            "direction": "inbound",
            "group": "r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "icmp": [],
            "id": "r006-766f43f6-6293-4b42-ba21-599dc99f8963.r006-9dfc1a35-3b60-4f1b-9d53-bf44d48b2d92",
            "ip_version": "ipv4",
            "protocol": "tcp",
            "related_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::security-group:r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "remote": "0.0.0.0/0",
            "rule_id": "r006-9dfc1a35-3b60-4f1b-9d53-bf44d48b2d92",
            "tcp": [
              {
                "port_max": 3025,
                "port_min": 3023
              }
            ],
            "udp": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "ibm_is_security_group.teleport_security_group",
            "data.ibm_is_vpc.vpc"
          ]
        },
        {
          "index_key": "allow_tcp_in_3080",
          "schema_version": 0,
          "attributes": {
            "direction": "inbound",
            "group": "r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "icmp": [],
            "id": "r006-766f43f6-6293-4b42-ba21-599dc99f8963.r006-ce63baca-9e91-4063-ba32-c9ab691ba95d",
            "ip_version": "ipv4",
            "protocol": "tcp",
            "related_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::security-group:r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "remote": "0.0.0.0/0",
            "rule_id": "r006-ce63baca-9e91-4063-ba32-c9ab691ba95d",
            "tcp": [
              {
                "port_max": 3080,
                "port_min": 3080
              }
            ],
            "udp": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.ibm_is_vpc.vpc",
            "ibm_is_security_group.teleport_security_group"
          ]
        },
        {
          "index_key": "allow_tcp_out_3023_3025",
          "schema_version": 0,
          "attributes": {
            "direction": "outbound",
            "group": "r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "icmp": [],
            "id": "r006-766f43f6-6293-4b42-ba21-599dc99f8963.r006-95971d26-b1b5-44b4-a193-ca3a1b5fc407",
            "ip_version": "ipv4",
            "protocol": "tcp",
            "related_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::security-group:r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "remote": "0.0.0.0/0",
            "rule_id": "r006-95971d26-b1b5-44b4-a193-ca3a1b5fc407",
            "tcp": [
              {
                "port_max": 3025,
                "port_min": 3023
              }
            ],
            "udp": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.ibm_is_vpc.vpc",
            "ibm_is_security_group.teleport_security_group"
          ]
        },
        {
          "index_key": "allow_tcp_out_3080",
          "schema_version": 0,
          "attributes": {
            "direction": "outbound",
            "group": "r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "icmp": [],
            "id": "r006-766f43f6-6293-4b42-ba21-599dc99f8963.r006-dcb90b55-0a30-43be-9f1a-a7478b586424",
            "ip_version": "ipv4",
            "protocol": "tcp",
            "related_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::security-group:r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "remote": "0.0.0.0/0",
            "rule_id": "r006-dcb90b55-0a30-43be-9f1a-a7478b586424",
            "tcp": [
              {
                "port_max": 3080,
                "port_min": 3080
              }
            ],
            "udp": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.ibm_is_vpc.vpc",
            "ibm_is_security_group.teleport_security_group"
          ]
        },
        {
          "index_key": "allow_tcp_out_443",
          "schema_version": 0,
          "attributes": {
            "direction": "outbound",
            "group": "r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "icmp": [],
            "id": "r006-766f43f6-6293-4b42-ba21-599dc99f8963.r006-f370ab5a-ec92-47b3-876b-aedeec1d2e99",
            "ip_version": "ipv4",
            "protocol": "tcp",
            "related_crn": "crn:v1:bluemix:public:is:us-south:a/cdefe6d99f7ea459aacb25775fb88a33::security-group:r006-766f43f6-6293-4b42-ba21-599dc99f8963",
            "remote": "0.0.0.0/0",
            "rule_id": "r006-f370ab5a-ec92-47b3-876b-aedeec1d2e99",
            "tcp": [
              {
                "port_max": 443,
                "port_min": 443
              }
            ],
            "udp": []
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "data.ibm_is_vpc.vpc",
            "ibm_is_security_group.teleport_security_group"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "ibm_resource_instance",
      "name": "cos",
      "provider": "provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "cdefe6d99f7ea459aacb25775fb88a33",
            "allow_cleanup": false,
            "created_at": "2022-03-22T18:49:11.084Z",
            "created_by": "IBMid-662001R80I",
            "crn": "crn:v1:bluemix:public:cloud-object-storage:global:a/cdefe6d99f7ea459aacb25775fb88a33:b80251f6-8966-44d5-828a-d2e76fdc2585::",
            "dashboard_url": "https://cloud.ibm.com/objectstorage/crn%3Av1%3Abluemix%3Apublic%3Acloud-object-storage%3Aglobal%3Aa%2Fcdefe6d99f7ea459aacb25775fb88a33%3Ab80251f6-8966-44d5-828a-d2e76fdc2585%3A%3A",
            "deleted_at": null,
            "deleted_by": "",
            "extensions": {},
            "guid": "b80251f6-8966-44d5-828a-d2e76fdc2585",
            "id": "crn:v1:bluemix:public:cloud-object-storage:global:a/cdefe6d99f7ea459aacb25775fb88a33:b80251f6-8966-44d5-828a-d2e76fdc2585::",
            "last_operation": {
              "async": "false",
              "description": "Completed create instance operation",
              "state": "succeeded",
              "type": "create"
            },
            "location": "global",
            "locked": false,
            "name": "dr-cos-instance",
            "parameters": null,
            "plan": "standard",
            "plan_history": [
              {
                "resource_plan_id": "744bfc56-d12c-4866-88d5-dac9139e0e5d",
                "start_date": "2022-03-22T18:49:11.084Z"
              }
            ],
            "resource_aliases_url": "/v2/resource_instances/b80251f6-8966-44d5-828a-d2e76fdc2585/resource_aliases",
            "resource_bindings_url": "/v2/resource_instances/b80251f6-8966-44d5-828a-d2e76fdc2585/resource_bindings",
            "resource_controller_url": "https://cloud.ibm.com/services/",
            "resource_crn": "crn:v1:bluemix:public:cloud-object-storage:global:a/cdefe6d99f7ea459aacb25775fb88a33:b80251f6-8966-44d5-828a-d2e76fdc2585::",
            "resource_group_crn": "crn:v1:bluemix:public:resource-controller::a/cdefe6d99f7ea459aacb25775fb88a33::resource-group:271bbee55baf463e81cec7de47d4b219",
            "resource_group_id": "271bbee55baf463e81cec7de47d4b219",
            "resource_group_name": "crn:v1:bluemix:public:resource-controller::a/cdefe6d99f7ea459aacb25775fb88a33::resource-group:271bbee55baf463e81cec7de47d4b219",
            "resource_id": "dff97f5c-bc5e-4455-b470-411c3edbe49c",
            "resource_keys_url": "/v2/resource_instances/b80251f6-8966-44d5-828a-d2e76fdc2585/resource_keys",
            "resource_name": "dr-cos-instance",
            "resource_plan_id": "744bfc56-d12c-4866-88d5-dac9139e0e5d",
            "resource_status": "active",
            "restored_at": null,
            "restored_by": "",
            "scheduled_reclaim_at": null,
            "scheduled_reclaim_by": "",
            "service": "cloud-object-storage",
            "service_endpoints": null,
            "state": "active",
            "status": "active",
            "sub_type": "",
            "tags": [],
            "target_crn": "crn:v1:bluemix:public:globalcatalog::::deployment:744bfc56-d12c-4866-88d5-dac9139e0e5d%3Aglobal",
            "timeouts": null,
            "type": "service_instance",
            "update_at": "2022-03-22T18:49:12.238Z",
            "update_by": ""
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwLCJ1cGRhdGUiOjYwMDAwMDAwMDAwMH19",
          "dependencies": [
            "data.ibm_resource_group.resource_group"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "ibm_resource_key",
      "name": "cos_resource_key",
      "provider": "provider[\"registry.terraform.io/ibm-cloud/ibm\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "account_id": "cdefe6d99f7ea459aacb25775fb88a33",
            "created_at": "2022-03-22T18:49:26.949Z",
            "created_by": "IBMid-662001R80I",
            "credentials": {
              "apikey": "iLgaVPKMRGWqaCpTuPOevR87EPIHXrpzjWM5rjSGF-6r",
              "cos_hmac_keys.access_key_id": "b3853eee0b7341c28a69c1018a35e3f2",
              "cos_hmac_keys.secret_access_key": "2a9ea1bf8598dc476e7133542f8002a93a3286ab0d5c3aae",
              "endpoints": "https://control.cloud-object-storage.cloud.ibm.com/v2/endpoints",
              "iam_apikey_description": "Auto-generated for key crn:v1:bluemix:public:cloud-object-storage:global:a/cdefe6d99f7ea459aacb25775fb88a33:b80251f6-8966-44d5-828a-d2e76fdc2585:resource-key:b3853eee-0b73-41c2-8a69-c1018a35e3f2",
              "iam_apikey_name": "dr-resource-key",
              "iam_role_crn": "crn:v1:bluemix:public:iam::::serviceRole:Writer",
              "iam_serviceid_crn": "crn:v1:bluemix:public:iam-identity::a/cdefe6d99f7ea459aacb25775fb88a33::serviceid:ServiceId-8775539d-8f64-4ce0-a4bf-56d583719d5b",
              "resource_instance_id": "crn:v1:bluemix:public:cloud-object-storage:global:a/cdefe6d99f7ea459aacb25775fb88a33:b80251f6-8966-44d5-828a-d2e76fdc2585::"
            },
            "crn": "crn:v1:bluemix:public:cloud-object-storage:global:a/cdefe6d99f7ea459aacb25775fb88a33:b80251f6-8966-44d5-828a-d2e76fdc2585:resource-key:b3853eee-0b73-41c2-8a69-c1018a35e3f2",
            "deleted_at": "",
            "deleted_by": "",
            "guid": "b3853eee-0b73-41c2-8a69-c1018a35e3f2",
            "iam_compatible": true,
            "id": "crn:v1:bluemix:public:cloud-object-storage:global:a/cdefe6d99f7ea459aacb25775fb88a33:b80251f6-8966-44d5-828a-d2e76fdc2585:resource-key:b3853eee-0b73-41c2-8a69-c1018a35e3f2",
            "name": "dr-resource-key",
            "parameters": {
              "HMAC": "true"
            },
            "resource_alias_id": null,
            "resource_group_id": "271bbee55baf463e81cec7de47d4b219",
            "resource_instance_id": "crn:v1:bluemix:public:cloud-object-storage:global:a/cdefe6d99f7ea459aacb25775fb88a33:b80251f6-8966-44d5-828a-d2e76fdc2585::",
            "resource_instance_url": "/v2/resource_instances/b80251f6-8966-44d5-828a-d2e76fdc2585",
            "role": "Writer",
            "source_crn": "crn:v1:bluemix:public:cloud-object-storage:global:a/cdefe6d99f7ea459aacb25775fb88a33:b80251f6-8966-44d5-828a-d2e76fdc2585::",
            "state": "active",
            "status": "active",
            "tags": null,
            "timeouts": null,
            "updated_at": "2022-03-22T18:49:26.949Z",
            "updated_by": "",
            "url": "/v2/resource_keys/b3853eee-0b73-41c2-8a69-c1018a35e3f2"
          },
          "sensitive_attributes": [],
          "private": "eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjo2MDAwMDAwMDAwMDAsImRlbGV0ZSI6NjAwMDAwMDAwMDAwfX0=",
          "dependencies": [
            "data.ibm_resource_group.resource_group",
            "ibm_resource_instance.cos"
          ]
        }
      ]
    }
  ]
}
